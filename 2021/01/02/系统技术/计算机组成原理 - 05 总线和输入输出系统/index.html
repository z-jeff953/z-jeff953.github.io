<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon.png?v=2.1.1" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon.png?v=2.1.1" type="image/png" sizes="32x32"><meta name="description" content="计算机组成原理 - 05 总线和输入输出系统       计算机内部各部分如何通信? 计算机和外部设备如何通信? 计算机和人,计算机和其他计算机是如何通信的?">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机组成原理 - 05 总线和输入输出系统">
<meta property="og:url" content="http://zjeff-953.gitee.io/zjeff/2021/01/02/%E7%B3%BB%E7%BB%9F%E6%8A%80%E6%9C%AF/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%20-%2005%20%E6%80%BB%E7%BA%BF%E5%92%8C%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E7%B3%BB%E7%BB%9F/index.html">
<meta property="og:site_name" content="Jeff&#39;s blog">
<meta property="og:description" content="计算机组成原理 - 05 总线和输入输出系统       计算机内部各部分如何通信? 计算机和外部设备如何通信? 计算机和人,计算机和其他计算机是如何通信的?">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102112149.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102143032.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102113038.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102113008.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210103094209.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102113403.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102153255.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102154640.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102154812.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102155125.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102160555.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210103093617.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210103093651.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102162312.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210103093307.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102164117.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102164607.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102171133.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102184718.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102175513.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102185812.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102174640.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102193907.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102194231.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102194841.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102194929.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102194633.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102171509.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102195514.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210103091617.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102205712.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102205827.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102205930.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102205958.png">
<meta property="article:published_time" content="2021-01-01T16:00:00.000Z">
<meta property="article:modified_time" content="2021-01-04T07:06:12.000Z">
<meta property="article:author" content="Jeffords zuo">
<meta property="article:tag" content="计算机体系结构">
<meta property="article:tag" content="计算机组成原理">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102112149.png"><title>计算机组成原理 - 05 总线和输入输出系统 | Jeff's blog</title><link ref="canonical" href="http://zjeff-953.gitee.io/zjeff/2021/01/02/%E7%B3%BB%E7%BB%9F%E6%8A%80%E6%9C%AF/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%20-%2005%20%E6%80%BB%E7%BA%BF%E5%92%8C%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E7%B3%BB%E7%BB%9F/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.1.1"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":5},
  header: {"enable":true,"showOnPost":false,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"复制","copySuccess":"复制成功","copyError":"复制失败"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Jeff's blog" type="application/atom+xml">
</head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner header-inner--height header-inner--bgcolor"><nav class="header-nav header-nav--sticky"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">归档</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">分类</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">标签</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/reading/"><span class="header-nav-menu-item__icon"><i class="fas fa-book"></i></span><span class="header-nav-menu-item__text">阅读</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/about/"><span class="header-nav-menu-item__icon"><i class="fas fa-user-tie"></i></span><span class="header-nav-menu-item__text">关于</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">计算机组成原理 - 05 总线和输入输出系统</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-01-02</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-01-04</span></span></div></header><div class="post-body">
        <h1 id="计算机组成原理-05-总线和输入输出系统"   >
          <a href="#计算机组成原理-05-总线和输入输出系统" class="heading-link"><i class="fas fa-link"></i></a>计算机组成原理 - 05 总线和输入输出系统</h1>
      <p>计算机内部各部分如何通信? 计算机和外部设备如何通信? 计算机和人,计算机和其他计算机是如何通信的?</p>
<span id="more"></span>
<p>[toc]</p>

        <h2 id="1-概述"   >
          <a href="#1-概述" class="heading-link"><i class="fas fa-link"></i></a>1 概述</h2>
      
        <h3 id="1-1-计算机通信的部件"   >
          <a href="#1-1-计算机通信的部件" class="heading-link"><i class="fas fa-link"></i></a>1.1 计算机通信的部件</h3>
      <ol>
<li><p>输入输出设备: </p>
<p>实现与主机的<strong>信息交换</strong>(机器和机器)和<strong>人机交互</strong>(人和机器)</p>
</li>
<li><p>输入输出接口: </p>
<p>主机与外设之间的<strong>连接</strong>(有限暴露)逻辑，<strong>控制</strong>(统一标准)外设的I/O操作</p>
</li>
<li><p>系统总线:</p>
<p>连接系统各大部件的<strong>公共</strong> <strong>信息通道</strong></p>
</li>
</ol>

        <h3 id="1-2-认识输入输出设备"   >
          <a href="#1-2-认识输入输出设备" class="heading-link"><i class="fas fa-link"></i></a>1.2 认识输入输出设备</h3>
      <p><strong>按使用特性分类</strong></p>
<ul>
<li>人机交互类外设<ul>
<li>输入设备: 键盘鼠标麦克风</li>
<li>输出设备: 耳机音箱显示器</li>
</ul>
</li>
<li>存储设备(外存储器)：磁盘, 硬盘</li>
<li>网络通讯设备：网络接口</li>
</ul>
<p><strong>按传输速率分类</strong></p>
<ul>
<li>低速设备：每秒一个或几个字节，如键盘,鼠标,显示器</li>
<li>中速设备：每秒数千个字节，如打印机</li>
<li>高速设备：几千兆字节，如磁带机,磁盘,磁带</li>
</ul>
<p>中低速设备没有太大区别, 高速设备比较特殊</p>
<p><strong>按信息交换的单位分类</strong></p>
<ul>
<li>块设备：如磁盘，其特征是传输效率高，以及可寻址，即可以随机读写任意一块，换句话说类似数组随机读取指定索引</li>
<li>字符设备：如打印机，效率低下，不可寻址，输入输出采用中断机制</li>
</ul>

        <h3 id="1-3-主机和外部设备的连接方式"   >
          <a href="#1-3-主机和外部设备的连接方式" class="heading-link"><i class="fas fa-link"></i></a>1.3 主机和外部设备的连接方式</h3>
      <p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102112149.png" alt="image-20210102112149550" style="zoom:25%;" /></p>
<p>引入接口增加了可扩展性, 你想放什么I/O设备都可以</p>
<p>后来又引入了总线简化了线路,进一步增加了拓展性</p>
<p>再后来为了提高大型计算机效率引入了通道, 更加适合高速I/O</p>

        <h2 id="2-输入输出接口"   >
          <a href="#2-输入输出接口" class="heading-link"><i class="fas fa-link"></i></a>2 输入输出接口</h2>
      
        <h3 id="2-1-接口的定义"   >
          <a href="#2-1-接口的定义" class="heading-link"><i class="fas fa-link"></i></a>2.1 接口的定义</h3>
      <p>在功能上讲, I/O接口指<strong>主机</strong>和<strong>外设</strong>的交接部分</p>
<p>在位置上讲, I/O接口位于<strong>系统总线</strong>和<strong>外设</strong>之间</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102143032.png" alt="image-20210102143032741" style="zoom:50%;" /></p>

        <h3 id="2-2-接口的功能"   >
          <a href="#2-2-接口的功能" class="heading-link"><i class="fas fa-link"></i></a>2.2 接口的功能</h3>
      <ol>
<li>寻址: <ul>
<li>接收CPU送来的地址码,选择接口中的寄存器供CPU访问<ul>
<li>接口中的寄存器称为端口</li>
</ul>
</li>
</ul>
</li>
<li>数据缓冲: <ul>
<li>实现主机与外设的速度匹配</li>
<li>缓冲深度与传送的数据量有关</li>
</ul>
</li>
<li>预处理: <ul>
<li>串-并格式转换(串口)</li>
<li>数据通路寬度转换(并口)</li>
<li>电平转换</li>
</ul>
</li>
<li>控制功能: <ul>
<li>传送控制命令与状态信息</li>
<li>实现I/O传送控制方式</li>
</ul>
</li>
</ol>

        <h3 id="2-3-接口的分类"   >
          <a href="#2-3-接口的分类" class="heading-link"><i class="fas fa-link"></i></a>2.3 接口的分类</h3>
      
        <h4 id="2-3-1-按数据传送格式划分"   >
          <a href="#2-3-1-按数据传送格式划分" class="heading-link"><i class="fas fa-link"></i></a>2.3.1 按数据传送格式划分</h4>
      <p>数据传送格式指的是主机和外设的数据传送部分,分为并行和串行, 也就是: </p>
<ol>
<li>接口和系统总线都是并行的</li>
<li>并行接口和串行接口的区别是接口和外设的通信方式</li>
</ol>
<p>下面详细介绍并行接口和串行接口: </p>
<ol>
<li>并行接口<ul>
<li>接口与系统总线、接口与外设均按并行方式传送数据</li>
<li>数据各位同时传送</li>
<li>适用于设备本身并行工作，距主机较近的场合</li>
</ul>
</li>
<li>串行接口<ul>
<li>接口与系统总线并行传送，接口与外设串行传送</li>
<li>数据<strong>逐位分时</strong>传送</li>
<li>适用于设备本身串行工作，或距主机较远，或需减少传送线的情况</li>
</ul>
</li>
</ol>

        <h4 id="2-3-2-按时序控制方式划分"   >
          <a href="#2-3-2-按时序控制方式划分" class="heading-link"><i class="fas fa-link"></i></a>2.3.2 按时序控制方式划分</h4>
      <ol>
<li>同步接口<ul>
<li>接口与系统总线的信息传送由<strong>统一时序信号</strong>控制</li>
</ul>
</li>
<li>异步接口<ul>
<li>接口与系统总线的信息传送采用<strong>异步应答</strong>方式。</li>
</ul>
</li>
</ol>

        <h4 id="2-3-3-按I-O传送控制方式划分"   >
          <a href="#2-3-3-按I-O传送控制方式划分" class="heading-link"><i class="fas fa-link"></i></a>2.3.3 按I/O传送控制方式划分</h4>
      <ol>
<li>直接程序传送接口<ul>
<li>通过硬件或软件方式按<strong>指定优先级</strong>查询各设备是否要进行输入/输出</li>
</ul>
</li>
<li>中断接口<ul>
<li>设备提出中断请求，主机响应后与设备交换信息，<strong>接口中包含中断控制逻辑</strong></li>
<li>可采用查询方式</li>
</ul>
</li>
<li>DMA接口<ul>
<li>支持<strong>高速外设</strong>与主机之间进行<strong>DMA方式</strong>交换数据</li>
<li>可插入中断作DMA善后处理</li>
</ul>
</li>
</ol>

        <h4 id="2-3-4-端口-接口-的编制"   >
          <a href="#2-3-4-端口-接口-的编制" class="heading-link"><i class="fas fa-link"></i></a>2.3.4 端口(接口)的编制</h4>
      <p>端口是接口的寄存器, 访问接口实际上是访问接口的寄存器</p>
<ol>
<li>统一编址:<ul>
<li>将一部分总线地址(高区)分配给设备接口中的寄存器</li>
<li><strong>(占用了主存地址)</strong></li>
<li>访问时使用通用的访存指令/传送指令</li>
<li>这种方式下的访存指令/传送指令也叫”隐式I/O指令”</li>
</ul>
</li>
<li>单独编址:<ul>
<li>为接口中的每个寄存器分配独立的端口号</li>
<li><strong>(与主存地址无关)</strong></li>
<li>访问时由专门的I/O指令比如<code>IN</code>,<code>OUT</code></li>
<li>这种方式下的指令也叫”显式I/O指令”</li>
</ul>
</li>
</ol>

        <h4 id="2-3-5-接口可以传送的信息"   >
          <a href="#2-3-5-接口可以传送的信息" class="heading-link"><i class="fas fa-link"></i></a>2.3.5 接口可以传送的信息</h4>
      <ol>
<li>控制命令</li>
<li>数据</li>
<li>状态</li>
</ol>

        <h2 id="3-总线Bus"   >
          <a href="#3-总线Bus" class="heading-link"><i class="fas fa-link"></i></a>3 总线Bus</h2>
      
        <h3 id="3-1-总线的定义-特点-组成"   >
          <a href="#3-1-总线的定义-特点-组成" class="heading-link"><i class="fas fa-link"></i></a>3.1 总线的定义,特点,组成</h3>
      
        <h4 id="3-1-1-总线的定义"   >
          <a href="#3-1-1-总线的定义" class="heading-link"><i class="fas fa-link"></i></a>3.1.1 总线的定义:</h4>
      <p><strong>一组</strong>能为<strong>多个部件</strong> <strong>分时</strong> <strong>共享</strong>的信息传送线路。</p>

        <h4 id="3-1-2-总线的特点"   >
          <a href="#3-1-2-总线的特点" class="heading-link"><i class="fas fa-link"></i></a>3.1.2 总线的特点*</h4>
      <p><strong>分时,共享</strong></p>
<ol>
<li>共享: 总线上的任何两个设备都能通信</li>
<li>分时: 总线一次只能在两个部件内通信</li>
</ol>

        <h4 id="3-1-3-总线的组成-实体"   >
          <a href="#3-1-3-总线的组成-实体" class="heading-link"><i class="fas fa-link"></i></a>3.1.3 总线的组成 /实体</h4>
      <ol>
<li>一组传送线</li>
<li>相应控制逻辑<ol>
<li>CPU内设置控制逻辑</li>
<li>设置总线控制器</li>
</ol>
</li>
</ol>

        <h3 id="3-2-总线的分类"   >
          <a href="#3-2-总线的分类" class="heading-link"><i class="fas fa-link"></i></a>3.2  总线的分类</h3>
      
        <h4 id="3-2-1-按功能-层次结构-划分"   >
          <a href="#3-2-1-按功能-层次结构-划分" class="heading-link"><i class="fas fa-link"></i></a>3.2.1 按功能(层次结构)划分</h4>
      <ol>
<li>*内总线 —— ALU总线(CPU内部件之间)<ul>
<li>CPU芯片内<strong>寄存器与算逻部件之间</strong>互连的总线</li>
</ul>
</li>
<li>部件内总线——局部总线、片级总线(芯片之间)<ul>
<li>插件板内各<strong>芯片之间</strong>互连的总线</li>
</ul>
</li>
<li>*系统总线——板级总线(各部件之间)<ul>
<li>计算机系统内各功能<strong>部件之间</strong>(CPU,主存,I/O接口)，或各插件板之间互连的总线</li>
<li>进一步分类 : 数据总线,地址总线,控制总线(见按传输信号的类型划分)</li>
</ul>
</li>
<li>外总线——通信总线(系统之间)<ul>
<li>计算机系统之间，或计算机系统与其他<strong>系统之间</strong>互连的总线</li>
<li>可以分为数据线(与地址复用)、控制线。</li>
</ul>
</li>
</ol>

        <h4 id="3-2-2-按时序控制方式划分"   >
          <a href="#3-2-2-按时序控制方式划分" class="heading-link"><i class="fas fa-link"></i></a>3.2.2 按时序控制方式划分</h4>
      <p>详见总线定时</p>
<ol>
<li>同步总线<ul>
<li>由统一时序信号控制总线传送操作</li>
</ul>
</li>
<li>异步总线<ul>
<li>无固定时钟周期划分，以异步应答方式控制传送</li>
</ul>
</li>
<li>扩展同步总线<ul>
<li>以时钟周期为时序基础，允许总线周期中的时钟数可变</li>
</ul>
</li>
</ol>

        <h4 id="3-2-3-按传输信号的类型划分"   >
          <a href="#3-2-3-按传输信号的类型划分" class="heading-link"><i class="fas fa-link"></i></a>3.2.3 按传输信号的类型划分</h4>
      <div class="table-container">
<div class="table-container"><table>
<thead>
<tr>
<th>总线</th>
<th>作用</th>
<th>传输方向</th>
</tr>
</thead>
<tbody>
<tr>
<td>数据总线</td>
<td>传输各部件的数据信息<br />位数与机器字长,存储字长相关</td>
<td>双向</td>
</tr>
<tr>
<td>地址总线</td>
<td>指出数据总线上的数据在那个地址<br />位数与主存地址空间大小有关</td>
<td>单向</td>
</tr>
<tr>
<td>控制总线</td>
<td>传递控制信息</td>
<td>双向</td>
</tr>
</tbody>
</table></div>
</div>
<blockquote>
<p>控制总线其实是 局部单向, 整体双向</p>
<p>有的线是单向的,CPU$\longrightarrow$内存但是也有 内存$\longrightarrow$CPU, 防止冲突</p>
</blockquote>

        <h4 id="3-2-4-按数据传送格式划分"   >
          <a href="#3-2-4-按数据传送格式划分" class="heading-link"><i class="fas fa-link"></i></a>3.2.4 按数据传送格式划分</h4>
      <ol>
<li>并行总线<ul>
<li><strong>同时</strong>传送<strong>各位</strong>信息</li>
</ul>
</li>
<li>串行总线<ul>
<li><strong>分时 逐位</strong>传送各位信息</li>
</ul>
</li>
</ol>

        <h4 id="3-2-5-不同功能总线的传送格式和时序控制方式"   >
          <a href="#3-2-5-不同功能总线的传送格式和时序控制方式" class="heading-link"><i class="fas fa-link"></i></a>3.2.5 不同功能总线的传送格式和时序控制方式</h4>
      <p>计算机设计中，不同类型的总线可能采用的时序控制方式和数据传送格式：</p>
<div class="table-container">
<div class="table-container"><table>
<thead>
<tr>
<th>功能分类</th>
<th>数据传送格式</th>
<th>时序控制方式</th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU内总线</td>
<td>并行</td>
<td>同步</td>
</tr>
<tr>
<td>局部总线</td>
<td>并行</td>
<td>同步/异步/扩展同步</td>
</tr>
<tr>
<td>系统总线</td>
<td>并行</td>
<td>同步/异步/扩展同步</td>
</tr>
<tr>
<td>外总线</td>
<td>串行</td>
<td>异步/并行</td>
</tr>
</tbody>
</table></div>
</div>

        <h3 id="3-2-总线的结构-总线标准-总线性能指标"   >
          <a href="#3-2-总线的结构-总线标准-总线性能指标" class="heading-link"><i class="fas fa-link"></i></a>3.2 总线的结构,总线标准,总线性能指标</h3>
      
        <h4 id="3-2-1-总线结构"   >
          <a href="#3-2-1-总线结构" class="heading-link"><i class="fas fa-link"></i></a>3.2.1 总线结构</h4>
      <ol>
<li><p>单总线结构</p>
<p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://blog.csdn.net/irxlinpw/article/details/11766465" >总线结构详见</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102113038.png" alt="image-20210102113038157" style="zoom:33%;" /></p>
<ul>
<li>总线的引入简化了线路, 现在只需要把新设备接到总线上就行了,不需要和各个部件都接起来</li>
<li>总线的引入进一步增加了可拓展性, 现在你想放几个接口都可以</li>
</ul>
</li>
<li><p>双总线分离结构</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102113008.png" alt="image-20210102113007384" style="zoom: 33%;" /></p>
<ul>
<li><p>因为总线一次只能在两个设备之间通信, 大量低速I/O设备影响了主存和高速I/O设备的通信速度</p>
</li>
<li><p>通道的加入使得主存总线可以之和通道通信, 通道简单处理后再给主存总线,减少了传输的内容, 降低了传输的时间</p>
</li>
<li><p>还有以存储器为核心的双总线结构: </p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210103094209.png" alt="image-20210103094208879" style="zoom:50%;" /></p>
</li>
</ul>
</li>
<li><p>三总线结构</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102113403.png" alt="image-20210102113403443" style="zoom:33%;" /></p>
<ul>
<li>通道方式还是影响高速I/O设备的的速度</li>
<li>DMA可以直接访问内存</li>
<li>给高速I/O设备开个小道</li>
</ul>
</li>
</ol>

        <h4 id="3-2-2-总线性能指标"   >
          <a href="#3-2-2-总线性能指标" class="heading-link"><i class="fas fa-link"></i></a>3.2.2 总线性能指标</h4>
      <ol>
<li>总线宽度:<ul>
<li>总线能同时输的二进制位数</li>
</ul>
</li>
<li>总线频率:<ul>
<li>总线在单位时间(秒)传输数据的次数</li>
</ul>
</li>
<li>总线数据传输率(总线带宽):<ul>
<li>单位时间内总线输出的数据总量（B/s）</li>
<li>总线数据传输率=(总线宽度/8)x总线频率</li>
</ul>
</li>
</ol>

        <h4 id="3-2-3-总线标准"   >
          <a href="#3-2-3-总线标准" class="heading-link"><i class="fas fa-link"></i></a>3.2.3 总线标准</h4>
      <p>规定了总线的大小,引脚数量,各个引脚功能名称, 有效电平,时序约定等的规定</p>
<p>常见的标准有:</p>
<ol>
<li>内总线(典型)：ISA、EISA、VESA、PCI、PCI-e</li>
<li>外总线(典型)：RS232、RS485、USB、IEEE1394</li>
</ol>

        <h3 id="3-3-总线仲裁"   >
          <a href="#3-3-总线仲裁" class="heading-link"><i class="fas fa-link"></i></a>3.3 总线仲裁*</h3>
      <p>总线是分时共享的, 那优先那两个设备使用呢, 就是总线仲裁的内容</p>
<p>按照总线仲裁电路的位置不同, 仲裁方式分为: 集中仲裁方式和分布仲裁方式</p>
<p>先了解一下总线工作的时候具体方式</p>

        <h4 id="3-3-1-总线的工作方式-总线周期"   >
          <a href="#3-3-1-总线的工作方式-总线周期" class="heading-link"><i class="fas fa-link"></i></a>3.3.1 总线的工作方式(总线周期)</h4>
      <blockquote>
<p> tips: 我们常常遇到生命周期, XX周期这种概念, 周期其实也就是描述了工作流程和工作方式</p>
</blockquote>
<p>总线是分时共享的, 也就是总线每次是在两个设备之间通信的,每次通信的流程如下</p>
<p>总线传输的四个阶段(总线周期) : </p>
<ol>
<li><p>申请分配</p>
<p><strong>主模块</strong>(主设备)提出申请,经过总线仲裁机构决定下一个传输周期总线给谁用</p>
</li>
<li><p>寻址</p>
<p>取得了<strong>使用权</strong>的主模块（主设备)通过总线发送本次要访问的从模块（从设备)地址及有关命令,启动参与本次传输的<strong>从模块</strong></p>
</li>
<li><p>传输</p>
<p>主从模块开始数据交换</p>
</li>
<li><p>结束</p>
<p>主模块相关信息撤出系统总线,让出使用权</p>
</li>
</ol>
<p>注意几个概念: 主模块, 从模块, 总线(使用)权</p>

        <h4 id="3-3-2-集中仲裁方式"   >
          <a href="#3-3-2-集中仲裁方式" class="heading-link"><i class="fas fa-link"></i></a>3.3.2 集中仲裁方式</h4>
      <p>集中仲裁方式的总线仲裁电路集中于CPU一处, 集中仲裁方式有三种 : 链式查询,计数器定时查询,独立请求方式</p>
<p>集中式仲裁中每个模块有两条线连到中央仲裁器：<br>一条是送往仲裁器的总线请求（BR）信号线<br>一条是仲裁器送出的总线授权（BG）信号线</p>

        <h5 id="链式查询"   >
          <a href="#链式查询" class="heading-link"><i class="fas fa-link"></i></a>链式查询</h5>
      <p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102153255.png" alt="image-20210102153255228"></p>
<p>总线授权信号被依次串行地传送到所连接的外围设备上进行比较,主设备提出申请就授权给他</p>
<p>授权之后, 看看总线忙不忙, 不忙就把总线权给他,通过数据线和地址线开始寻找从设备, 传输数据</p>
<p>离总线控制器的逻辑距离决定，越近的优先级越高</p>

        <h5 id="计数器定时查询"   >
          <a href="#计数器定时查询" class="heading-link"><i class="fas fa-link"></i></a>计数器定时查询</h5>
      <p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102154640.png" alt="image-20210102154640340"></p>
<p>计数器就是从某个数开始一个一个数的东西</p>
<p>当查询计数器计数值与发出请求的设备编号一致时,中止查询,该设备获总线控制权</p>
<p>优先级灵活: <strong>计数器初值</strong>和设备编号可通过程序设定,优先次序可用程序控制</p>
<p>通过设置初始值来划定优先级</p>

        <h5 id="独立请求方式"   >
          <a href="#独立请求方式" class="heading-link"><i class="fas fa-link"></i></a>独立请求方式</h5>
      <p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102154812.png" alt="image-20210102154812642"></p>
<p>各设备均通过专用请求信号线与仲裁器连接, 且通过独立的授权信号线接收总线批准信号</p>
<p>可以通过编程指定优先级,响应速度快, 线比较多</p>

        <h4 id="3-3-3-分布仲裁方式"   >
          <a href="#3-3-3-分布仲裁方式" class="heading-link"><i class="fas fa-link"></i></a>3.3.3 分布仲裁方式</h4>
      <p>集中仲裁方式的总线仲裁电路集分散在总线连接的各个设备/部件上</p>
<p>设备需要控制总线时，发请求信号，并监听其它请求信号，各设备能判别自己的优先级，以及能否在下一周期控制总线</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102155125.png" alt="image-20210102155124995"></p>

        <h3 id="3-4-总线定时"   >
          <a href="#3-4-总线定时" class="heading-link"><i class="fas fa-link"></i></a>3.4 总线定时*</h3>
      <p>总线按时序控制方式划分可以分为同步总线,异步总线,还有拓展同步总线</p>

        <h4 id="3-4-1-几个周期的概念"   >
          <a href="#3-4-1-几个周期的概念" class="heading-link"><i class="fas fa-link"></i></a>3.4.1 几个周期的概念</h4>
      <p>先回忆几个周期的概念</p>
<ol>
<li>时钟周期/节拍：CPU一步操作(一次内部数据通路传送)<ul>
<li>可以把时钟周期理解为CPU中的时间单位</li>
</ul>
</li>
<li>总线周期：经过总线的一次数据传送(访存)时间<ul>
<li>通常包含若干时钟周期</li>
<li>模型机的一个总线周期只包含一个时钟周期</li>
</ul>
</li>
<li>工作周期/机器周期: 指令周期中的一个操作阶段(FT,DT,ST,OT,ET…)<ul>
<li><strong>可</strong>包含多个总线周期<ul>
<li>可以包含, 但不是一定包含</li>
</ul>
</li>
</ul>
</li>
<li>指令周期: 完成一条指令的时间</li>
</ol>

        <h4 id="3-4-2-同步定时方式"   >
          <a href="#3-4-2-同步定时方式" class="heading-link"><i class="fas fa-link"></i></a>3.4.2 同步定时方式</h4>
      <ol>
<li>由统一时序信号控制总线传送操作</li>
<li>在固定时钟周期内完成数据传送，由同步脉冲定时打入</li>
</ol>
<p>就是在整个工作周期中留出一段时间, 没到这个时间就发射脉冲信号, 放开地址总线和数据总线, 只有在这段时间内才能通过总线进行数据传送操作, 如果没有传送操作, 或者传送完了还有时间, 这个时间将被”浪费”</p>
<p>读数据的时候: </p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102160555.png" alt="image-20210102160555266"></p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210103093617.png" alt="image-20210103093617661" style="zoom:50%;" /></p>
<p>写数据的时候 : </p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210103093651.png" alt="image-20210103093651355" style="zoom:50%;" /></p>

        <h4 id="3-4-3-异步定时方式"   >
          <a href="#3-4-3-异步定时方式" class="heading-link"><i class="fas fa-link"></i></a>3.4.3 异步定时方式</h4>
      <ol>
<li>无固定时钟周期划分，以异步应答方式控制传送</li>
</ol>
<p>没有统一的时钟周期划分,而采取应答方式实现总线的传送操作</p>
<p>所需时间根据主设备,从设备的请求信号,回答信号及设备自身定时的关系</p>
<p>一般流程: </p>
<p>主设备申请总线权, 然后开始数据传输, 直到接收到从设备的响应, 归还总线权, 结束总线周期<img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102162312.png" alt="image-20210102162312546"></p>
<p>异步应答方式可以分为 不互锁,半互锁,全互锁 三种</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210103093307.png" alt="image-20210103093307584" style="zoom: 33%;" /></p>

        <h5 id="不互锁"   >
          <a href="#不互锁" class="heading-link"><i class="fas fa-link"></i></a>不互锁</h5>
      <p>请求信号引发回答信号，两个请求信号的结束是由设备自身定时决定的,不管对面收到没有</p>
<p>主设备发出“请求”信号后，不必等到从设备的“回答”信号，而是经过一段时间，便自动撤销“请求”信号。而从设备在收到“请求”信号后，发出“回答”信号后，经过一段时间，自动撤销“回答”信号，双方不存在互锁关系。</p>

        <h5 id="半互锁"   >
          <a href="#半互锁" class="heading-link"><i class="fas fa-link"></i></a>半互锁</h5>
      <p>请求信号引发回答信号，主设备的请求信号的结束是从设备决定的。</p>
<p>也就是主设备接收到从设备的回答才停止请求</p>
<p>一直发对面是一直可以收到的</p>

        <h5 id="全互锁"   >
          <a href="#全互锁" class="heading-link"><i class="fas fa-link"></i></a>全互锁</h5>
      <p>请求信号引发回答信号，主设备的请求信号的结束是由从设备决定的,从设备的回答结束信号是根据主设备决定的</p>
<p>也就是主设备接收到从设备的回答才停止请求, 主设备再发送一个请求撤销信号, 从设备接收到主设备的请求撤销信号才停止发送回答</p>

        <h4 id="3-4-4-拓展同步定时方式"   >
          <a href="#3-4-4-拓展同步定时方式" class="heading-link"><i class="fas fa-link"></i></a>3.4.4 拓展同步定时方式</h4>
      <ul>
<li>以时钟周期为时序基础，允许总线周期中的时钟数可变。</li>
</ul>
<p>[看不懂这是啥玩意, 也查不到]</p>

        <h2 id="5-输入输出方式"   >
          <a href="#5-输入输出方式" class="heading-link"><i class="fas fa-link"></i></a>5 输入输出方式*</h2>
      
        <h3 id="5-1-程序查询方式"   >
          <a href="#5-1-程序查询方式" class="heading-link"><i class="fas fa-link"></i></a>5.1 程序查询方式</h3>
      <p>要进行数据传输的时候, CPU会查询外设的状态, 如果外设准备就绪了, 开始传输, 如果没有准备就绪, 就一直查询一直等.</p>

        <h4 id="5-1-1-外设状态字"   >
          <a href="#5-1-1-外设状态字" class="heading-link"><i class="fas fa-link"></i></a>5.1.1 外设状态字</h4>
      <p>在接口中设置状态字表示这些状态</p>
<ol>
<li>空闲: 调用前, 设备不工作</li>
<li>工作: 设备在执行I/O操作</li>
<li>结束: 调用后, 设备完成具体的I/O操作</li>
</ol>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102164117.png" alt="image-20210102164117526" style="zoom: 25%;" /></p>

        <h4 id="5-1-2-工作流程"   >
          <a href="#5-1-2-工作流程" class="heading-link"><i class="fas fa-link"></i></a>5.1.2 工作流程</h4>
      <p>CPU发送启动信号, 等外设准备, 准备就绪了, 就开始数据传输</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102164607.png" alt="image-20210102164607250" style="zoom:50%;" /></p>

        <h3 id="5-2-中断和中断输入输出方式"   >
          <a href="#5-2-中断和中断输入输出方式" class="heading-link"><i class="fas fa-link"></i></a>5.2 中断和中断输入输出方式*</h3>
      <p>中断方式再外设准备阶段解放了CPU,CPU可以先处理其他事务,等外设准备好了再处理输入输出</p>

        <h4 id="5-2-1-中断定义-实质-特点"   >
          <a href="#5-2-1-中断定义-实质-特点" class="heading-link"><i class="fas fa-link"></i></a>5.2.1 中断定义,实质,特点</h4>
      
        <h5 id="定义"   >
          <a href="#定义" class="heading-link"><i class="fas fa-link"></i></a>定义</h5>
      <p> CPU暂时中止现行程序的执行，转去执行为某个随机事态服务的中断处理程序。处理完毕后自动恢复原程序的执行。</p>

        <h5 id="实质"   >
          <a href="#实质" class="heading-link"><i class="fas fa-link"></i></a>实质</h5>
      <p><strong>程序切换</strong></p>
<ol>
<li>切换方式: <ol>
<li>(中断处理前)保存断点,保护现场</li>
<li>(中断处理后)恢复现场,返回断点</li>
</ol>
</li>
<li>切换时间: <ol>
<li>一条<strong>指令结束时</strong>切换(指令周期后)</li>
<li>保证程序的完整性。</li>
</ol>
</li>
</ol>

        <h5 id="特点-和转子对比"   >
          <a href="#特点-和转子对比" class="heading-link"><i class="fas fa-link"></i></a>特点/和转子对比</h5>
      <p>相对转子程序而言,中断的鲜明特点是<strong>随机性</strong>, 你不知道那一步会出现中断</p>
<p>中断与转子程序对比：</p>
<ol>
<li>子程序的执行由程序员事先安排,而中断服务程序的执行则是由随机中断事件触发。</li>
<li>子程序的执行受主程序或上层程序控制,而中断服务程序一般与被中断的现行程序无关。</li>
<li>一般不存在同时调用多个子程序的情况,但可能发生多个外设同时向CPU发出中断服务请求的情况。</li>
</ol>

        <h4 id="5-2-2-中断的分类"   >
          <a href="#5-2-2-中断的分类" class="heading-link"><i class="fas fa-link"></i></a>5.2.2 中断的分类</h4>
      
        <h5 id="按照来源位置分"   >
          <a href="#按照来源位置分" class="heading-link"><i class="fas fa-link"></i></a>按照来源位置分</h5>
      <ol>
<li>内中断<ul>
<li>中断源来自主机内部(CPU+内存)</li>
</ul>
</li>
<li>外中断<ul>
<li>中断源来自主机外部</li>
</ul>
</li>
</ol>

        <h5 id="按照引发原因分"   >
          <a href="#按照引发原因分" class="heading-link"><i class="fas fa-link"></i></a>按照引发原因分</h5>
      <ol>
<li>硬中断<ul>
<li>由硬件请求信号引发中断,硬中断属于外中断</li>
</ul>
</li>
<li>软中断<ul>
<li>由软中断指令引发中断,可以编程,软中断属于内冲断</li>
</ul>
</li>
</ol>

        <h5 id="按照可不可屏蔽分"   >
          <a href="#按照可不可屏蔽分" class="heading-link"><i class="fas fa-link"></i></a>按照可不可屏蔽分</h5>
      <p>这个分法都是针对外中断而言的</p>
<ol>
<li>可屏蔽中断<ul>
<li>可通过屏蔽字屏蔽该类请求</li>
<li>关中断时不响应该类请求</li>
</ul>
</li>
<li>非屏蔽中断<ul>
<li>该类请求与屏蔽字无关</li>
<li>请求的响应与开/关中断无关</li>
</ul>
</li>
</ol>

        <h5 id="按照寻找中断子程序的方式分"   >
          <a href="#按照寻找中断子程序的方式分" class="heading-link"><i class="fas fa-link"></i></a>按照寻找中断子程序的方式分*</h5>
      <ol>
<li>向量中断&lt;主要使用这种方式&gt;<ul>
<li>由硬件提供服务程序入口地址</li>
</ul>
</li>
<li>非向量中断&lt;不咋用&gt;<ul>
<li>由提供服务程序入口地软件址<ul>
<li>就是先提出中断请求</li>
<li>再手动JMP到这个中断程序的地方</li>
</ul>
</li>
</ul>
</li>
</ol>

        <h4 id="5-2-3-中断的应用"   >
          <a href="#5-2-3-中断的应用" class="heading-link"><i class="fas fa-link"></i></a>5.2.3 中断的应用</h4>
      <p>中断不只可以用来处理输入输出,还有其他应用,其中最主要是: </p>
<ol>
<li><strong>管理中低速I/O操作</strong></li>
<li><strong>处理故障</strong></li>
</ol>
<p>除此以外还有</p>
<ol>
<li>实时处理</li>
<li>人机对话</li>
<li>多机通信</li>
</ol>

        <h4 id="5-2-4-中断系统的组成"   >
          <a href="#5-2-4-中断系统的组成" class="heading-link"><i class="fas fa-link"></i></a>5.2.4 中断系统的组成</h4>
      <ol>
<li>软件<ol>
<li>中断服务程序</li>
<li>中断向量表</li>
</ol>
</li>
<li>硬件<ol>
<li>接口（中断请求、传递、判优逻辑）</li>
<li>CPU（中断响应逻辑）</li>
</ol>
</li>
</ol>

        <h4 id="5-2-5-中断的全过程"   >
          <a href="#5-2-5-中断的全过程" class="heading-link"><i class="fas fa-link"></i></a>5.2.5 中断的全过程*</h4>
      <p>一次中断有五个步骤: </p>
<ol>
<li>中断请求</li>
<li>中断判优</li>
<li>中断响应</li>
<li>中断服务</li>
<li>中断返回</li>
</ol>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102171133.png" alt="image-20210102171133385"></p>

        <h4 id="5-2-6-中断请求"   >
          <a href="#5-2-6-中断请求" class="heading-link"><i class="fas fa-link"></i></a>5.2.6 中断请求</h4>
      <p>我们要对外设进行一定的配置</p>
<p>提出有效中断请求的条件</p>
<ol>
<li>外设工作完成 : “完成”标志(INTR)为1</li>
<li>CPU允许请求 : “屏蔽”标志(MASK)为0</li>
</ol>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102184718.png" alt="image-20210102184718873" style="zoom:50%;" /></p>

        <h4 id="5-2-7-中断判优"   >
          <a href="#5-2-7-中断判优" class="heading-link"><i class="fas fa-link"></i></a>5.2.7 中断判优*</h4>
      <p>有的时候CPU会收到多个中断请求, 这时需要判优. 还有的时候不想CPU主程序中断如何实现?</p>

        <h5 id="各个中断优先级判断"   >
          <a href="#各个中断优先级判断" class="heading-link"><i class="fas fa-link"></i></a>各个中断优先级判断</h5>
      
        <h6 id="所有中断的优先顺序"   >
          <a href="#所有中断的优先顺序" class="heading-link"><i class="fas fa-link"></i></a>所有中断的优先顺序:</h6>
      <p>故障 &gt; DMA &gt; 外中断(输入输出)</p>
<p>一般硬件故障属于最高级中断，其次是软件中断，非屏蔽中断高于可屏蔽中断，DMA请求高于I/O设备，高速设备高于低速设备，输入设备高于输出设备，实时设备高于普通设备。</p>

        <h6 id="各个外设中断判优方法"   >
          <a href="#各个外设中断判优方法" class="heading-link"><i class="fas fa-link"></i></a>各个外设中断判优方法</h6>
      <p>外设中也有多种请求一起的情况</p>
<ol>
<li>软件判优<ol>
<li>由程序查询顺序确定优先级。</li>
<li>可灵活修改优先级。</li>
</ol>
</li>
<li><p>硬件判优</p>
<ol>
<li><p>可以使用排队器判优</p>
</li>
<li><p>也可以使用中断控制器(如8259)集中解决请求信号的接收、屏蔽、判优、编码等问题, 采用中断控制器效果如下: </p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102175513.png" alt="image-20210102175513319" style="zoom:50%;" /></p>
<p>中断服务寄存器(ISR) : 记录当前正在处理的中断的优先级</p>
<p>中断请求寄存器(IRR) : 记录当前中断请求</p>
<p>中断屏蔽寄存器(IMR)</p>
</li>
</ol>
</li>
</ol>
<p><strong>硬件判优的屏蔽位设置</strong>: </p>
<p>每个外设都有中断请求触发器和中断屏蔽触发器, 将屏蔽触发器组合在一起就成了屏蔽寄存器, 屏蔽寄存器中的内容叫做屏蔽字/屏蔽位,中断响应次序是硬件决定的, 不方便改动,处理优先级是我们可以改动的, 屏蔽字就是改变处理优先级的方式</p>
<p>例: 设0表示开放，1表示屏蔽，按照中断响应的优先级排序是4,2,1,3. 现要求中断处理顺序为1-2-3-4</p>
<p>解: 使用纵向级别的程序的时候, 屏蔽位的设置</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102185812.png" alt="image-20210102185812538" style="zoom: 33%;" /></p>

        <h5 id="中断请求和现行程序判优"   >
          <a href="#中断请求和现行程序判优" class="heading-link"><i class="fas fa-link"></i></a>中断请求和现行程序判优</h5>
      <p>最优先的中断会和现行程序判优</p>
<p>CPU<strong>设置允许中断标志</strong></p>
<p>在一般计算机中，CPU进行简单的判优处理，根据CPU标志寄存器中的“允许中断”控制位（Inerupt Enable Flag,IF）状态，确定是否响应该中断请求。</p>
<p><strong>所说的开关中断指的就是IF标志位的状态</strong></p>
<p><strong>IF = 1 开中断, IF = 0关中断</strong></p>
<p><strong>程序状态字的优先级字段</strong>: </p>
<p>CPU设置程序状态字的优先级字段，为现行程序赋予优先级</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102174640.png" alt="image-20210102174640177"></p>

        <h4 id="5-2-8-中断响应"   >
          <a href="#5-2-8-中断响应" class="heading-link"><i class="fas fa-link"></i></a>5.2.8 中断响应*</h4>
      
        <h5 id="中断响应条件"   >
          <a href="#中断响应条件" class="heading-link"><i class="fas fa-link"></i></a>中断响应条件</h5>
      <ol>
<li>有中断请求信号发生</li>
<li>该中断请求未被屏。</li>
<li>CPU处于开中断状态</li>
<li>中断源优先级高于当前程序的优先级</li>
<li>CPU刚刚执行的指令不是停机指令</li>
<li>一条指令结束后(ET后)响应</li>
</ol>

        <h5 id="中断响应时间"   >
          <a href="#中断响应时间" class="heading-link"><i class="fas fa-link"></i></a>中断响应时间</h5>
      <p>在一条指令结束时响应</p>
<p>因为程序中断的过程是程序切换过程, 不能在一条指令执行的中间就切换</p>

        <h5 id="中断响应过程"   >
          <a href="#中断响应过程" class="heading-link"><i class="fas fa-link"></i></a>中断响应过程</h5>
      <p>中断周期IT流程</p>
<p>中断隐指令 : 关中断$\Rightarrow$保存断点$\Rightarrow$获取服务程序入口地址$\Rightarrow$转向程序状态1-&gt;FT</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102193907.png" alt="image-20210102193907113"></p>
<p>保存断点就是当前指令的地址的指向入栈, 在这个过程中如果还有中断进来就堆栈乱套了,所以要先关中断</p>

        <h5 id="如何获取中断程序的入口地址"   >
          <a href="#如何获取中断程序的入口地址" class="heading-link"><i class="fas fa-link"></i></a>如何获取中断程序的入口地址</h5>
      <p>非向量中断：将服务程序入口组织在查询程序中，CPU响应时，执行查询程序，查询中断源，转入相应的服务程序。</p>
<p>*向量中断：将中断源的服务程序入口（中断向量）组织在中断向量表中，CPU响应时，由硬件直接产生相应的向量地址，按地址查表，取得服务程序入口，转入相应的服务程序。 </p>
<ol>
<li><strong>中断向量：中断服务程序入口地址</strong></li>
<li>中断向量表：存放各中断向量的表（一段存储区）</li>
<li>向量地址：访问中断向量表的地址（指向中断向量首址）,可通过中断号（中断类型码）计算得到 </li>
</ol>
<p>中断向量是地址, 中断向量表是个表, 向量地址是地址</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102194231.png" alt="image-20210102194231521"></p>
<p><strong>必须背熟: 中断向量是中断服务程序的入口地址, 而中断向量地址是中断服务程序入口地址的地址</strong> </p>
<p><strong>向量===地址!!!!</strong></p>

        <h4 id="5-2-9-中断服务"   >
          <a href="#5-2-9-中断服务" class="heading-link"><i class="fas fa-link"></i></a>5.2.9 中断服务*</h4>
      
        <h5 id="单级中断和多级中断"   >
          <a href="#单级中断和多级中断" class="heading-link"><i class="fas fa-link"></i></a>单级中断和多级中断</h5>
      <p>单级中断是CPU响应后只能处理一个请求, 处理完了才能处理新的请求</p>
<p>多重中断时某次中断的<strong>中断服务过程</strong>中可以响应处理更高级别的中断请求</p>
<p>单级中断：保护现场$\Rightarrow$中断服务处理$\Rightarrow$恢复现场$\Rightarrow$开中断$\Rightarrow$返回</p>
<p>多重中断：保护现场$\Rightarrow$送屏蔽字 $\Rightarrow$开中断$\Rightarrow$中断服务处理$\Rightarrow$关中断$\Rightarrow$恢复现场$\Rightarrow$恢复屏蔽字$\Rightarrow$开中断$\Rightarrow$返回</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102194841.png" alt="image-20210102194841499"></p>

        <h5 id="多级中断中断屏蔽字生效环节"   >
          <a href="#多级中断中断屏蔽字生效环节" class="heading-link"><i class="fas fa-link"></i></a>多级中断中断屏蔽字生效环节</h5>
      <p>中断屏蔽字时在那个部分编程生效的呢?</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102194929.png" alt="image-20210102194929567"></p>

        <h5 id="保护现场和保护断点辨析"   >
          <a href="#保护现场和保护断点辨析" class="heading-link"><i class="fas fa-link"></i></a>保护现场和保护断点辨析</h5>
      <p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102194633.png" alt="image-20210102194633642"></p>

        <h4 id="5-2-10-中断返回"   >
          <a href="#5-2-10-中断返回" class="heading-link"><i class="fas fa-link"></i></a>5.2.10 中断返回</h4>
      <p>中断返回就是把之前压入栈的断点弹出, 就回到源程序了</p>

        <h4 id="5-2-11-中断方式输入输出的过程"   >
          <a href="#5-2-11-中断方式输入输出的过程" class="heading-link"><i class="fas fa-link"></i></a>5.2.11 中断方式输入输出的过程</h4>
      <p>中断方式输入输出和中断全过程一样</p>
<p>以打印机为例</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102171509.png" alt="image-20210102171509544"></p>

        <h4 id="5-2-12-中断接口"   >
          <a href="#5-2-12-中断接口" class="heading-link"><i class="fas fa-link"></i></a>5.2.12 中断接口</h4>
      <p>中断控制器,外设是怎们插在板子上的? </p>

        <h5 id="中断接口结构"   >
          <a href="#中断接口结构" class="heading-link"><i class="fas fa-link"></i></a>中断接口结构</h5>
      <p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102195514.png" alt="image-20210102195514521" style="zoom:50%;" /></p>

        <h5 id="中断接口工作过程"   >
          <a href="#中断接口工作过程" class="heading-link"><i class="fas fa-link"></i></a>中断接口工作过程</h5>
      <ol>
<li>初始化：设置工作方式，送屏蔽字，送中断号 (CPU通过D7-D0送到8259)</li>
<li>CPU发启动命令(送命令字寄存器)到外设，启动设备</li>
<li>设备和系统通过数据缓冲器进行数据传送</li>
<li>设备完成工作,发送状态字寄存器,通过控制逻辑发送中断请求到中断控制器</li>
<li>中断控制器汇集各请求，经屏蔽、判优，形成中断号，并向CPU送INT</li>
<li>CPU响应，发批准INTA</li>
<li>中断控制器送出中断号</li>
<li>CPU执行中断隐指令操作，进入服务程序</li>
</ol>

        <h5 id="中断接口设计"   >
          <a href="#中断接口设计" class="heading-link"><i class="fas fa-link"></i></a>中断接口设计</h5>
      <p>关注: 命令字、状态字格式的拟定，中断源的扩展</p>
<p>如果我现在有两个外设, 中断接口应该这么设计: </p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210103091617.png" alt="image-20210103091617614" style="zoom: 50%;" /></p>

        <h3 id="5-3-DMA输入输出方式"   >
          <a href="#5-3-DMA输入输出方式" class="heading-link"><i class="fas fa-link"></i></a>5.3 DMA输入输出方式</h3>
      <p>DMA: Direct Memory Access,DMA相当于雇了个副手, 专门处理高速设备的IO</p>

        <h4 id="5-3-1-DMA定义"   >
          <a href="#5-3-1-DMA定义" class="heading-link"><i class="fas fa-link"></i></a>5.3.1 DMA定义</h4>
      <p> 直接由硬件实现<strong>主存与I/O间</strong>的数据传送, 传送期间<strong>不需CPU程序干预</strong>. 传送结束以后，<strong>通过中断的方式通知CPU</strong></p>
<p>注意: </p>
<ol>
<li>传送发生在I/O与主存之间</li>
<li>由DMA控制器来控制传送,DMA控制器接管总线权,传送完毕再将总线权交还CPU</li>
<li>只要CPU不访存, DMA操作与CPU可并行操作<ul>
<li>CPU,DMA不能同时访存</li>
</ul>
</li>
<li>传送前和传送后需要CPU程序干预</li>
</ol>

        <h4 id="5-3-2-DMA特点与应用"   >
          <a href="#5-3-2-DMA特点与应用" class="heading-link"><i class="fas fa-link"></i></a>5.3.2 DMA特点与应用</h4>
      
        <h5 id="DMA特点"   >
          <a href="#DMA特点" class="heading-link"><i class="fas fa-link"></i></a>DMA特点</h5>
      <ol>
<li>响应随机请求</li>
<li>一般不影响CPU程序的执行，仅占用总线、无程序切换</li>
<li>大批量数据的简单传送</li>
</ol>

        <h5 id="DMA应用场合"   >
          <a href="#DMA应用场合" class="heading-link"><i class="fas fa-link"></i></a>DMA应用场合</h5>
      <ol>
<li>主存与高速I/O设备之间的简单数据传送。</li>
<li>大批量数据采集系统</li>
<li>动态存储器（DRAM）的自动刷新</li>
</ol>

        <h4 id="5-3-3-DMA的数据传送操作方式"   >
          <a href="#5-3-3-DMA的数据传送操作方式" class="heading-link"><i class="fas fa-link"></i></a>5.3.3 DMA的数据传送操作方式</h4>
      <ol>
<li>单字传送<ul>
<li>DMA请求获得批准后，CPU让出一个总线周期用于字或字节的传送，再回收并重新判断下一个周期的总线控制权，也称为周期挪用或窃取</li>
</ul>
</li>
<li>成组连续传送方式<ul>
<li>DMA被批准后，连续占用若干个总线周期，成组连续批量地传送，结束后将总线的控制权交回给CPU</li>
</ul>
</li>
</ol>

        <h4 id="5-3-4-DMA传送的三个阶段"   >
          <a href="#5-3-4-DMA传送的三个阶段" class="heading-link"><i class="fas fa-link"></i></a>5.3.4 DMA传送的三个阶段</h4>
      <ol>
<li>预处理</li>
<li>数据传送</li>
<li>后处理</li>
</ol>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102205712.png" alt="image-20210102205712510" style="zoom:50%;" /></p>

        <h5 id="预处理"   >
          <a href="#预处理" class="heading-link"><i class="fas fa-link"></i></a>预处理</h5>
      <ol>
<li>向接口送出I/O设备的寻址信息</li>
<li>向DMA控制器送出控制字，如传送方向</li>
<li>向DMA控制器送出主存缓冲区首址</li>
<li>向DMA控制器送出传送的数据量</li>
</ol>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102205827.png" alt="image-20210102205827330"></p>

        <h5 id="数据传送"   >
          <a href="#数据传送" class="heading-link"><i class="fas fa-link"></i></a>数据传送</h5>
      <p>以输入为例</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102205930.png" alt="image-20210102205930440"></p>

        <h5 id="后处理"   >
          <a href="#后处理" class="heading-link"><i class="fas fa-link"></i></a>后处理</h5>
      <p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210102205958.png" alt="image-20210102205958184"></p>

        <h4 id="5-3-5-DMA硬件功能"   >
          <a href="#5-3-5-DMA硬件功能" class="heading-link"><i class="fas fa-link"></i></a>5.3.5 DMA硬件功能</h4>
      <p>DMA控制器功能</p>
<ol>
<li>接收初始化信息（传送方向、主存首址、交换量）</li>
<li>接收外设DMA请求，判优，向CPU申请总线</li>
<li>接管总线权，发地址、读/写命令</li>
</ol>
<p>接口功能</p>
<ol>
<li>接收初始化信息(外设寻址信息）</li>
<li>向DMA控制器发请求</li>
<li>传送数据</li>
</ol>

        <h4 id="5-3-4-DMA和中断的区别"   >
          <a href="#5-3-4-DMA和中断的区别" class="heading-link"><i class="fas fa-link"></i></a>5.3.4 DMA和中断的区别</h4>
      <ol>
<li>中断方式是程序的切换，需要保护和恢复现场;而DMA方式除了预处理和后处理,其他时候不占用CPU资源;</li>
<li>中断请求的响应只能发生在每条指令的执行周期之后;而对DMA的响应可以在取指周期、间址周期、执行周期之后均可以，只要CPU不占用总线就可以被响应;</li>
<li>中断传输过程需要CPU的干预，而DMA的传输过程不需要;</li>
<li>DMA请求的优先级高于中断请求优先级;</li>
<li>中断功能多，比如可以处理异常，而DMA仅仅是为了IO数据传输设计的;</li>
<li>从数据传输来看，中断靠程序传输，DMA靠硬件传输。</li>
</ol>

        <h4 id="5-3-5-磁盘的DMA方式输入输出过程"   >
          <a href="#5-3-5-磁盘的DMA方式输入输出过程" class="heading-link"><i class="fas fa-link"></i></a>5.3.5 磁盘的DMA方式输入输出过程</h4>
      <p>在写磁盘过程中，适配器向主机发出DMA请求是在（ 扇区缓冲区空时 ）</p>
<p>在读磁盘过程中，适配器向主机发出DMA请求是在（  扇区缓冲区满时 ）</p>

        <h4 id="5-3-6-DMA-vs-通道"   >
          <a href="#5-3-6-DMA-vs-通道" class="heading-link"><i class="fas fa-link"></i></a>5.3.6 DMA vs 通道</h4>
      <p>共同点: </p>
<ul>
<li>都是控制数据交流</li>
</ul>
<p>不同点: </p>
<ol>
<li>性质不同</li>
</ol>
<p>在DMA控制方式中，DMA控制器控制设备和主bai存之间成批地进程数据交流，而不用CPU干预。通道控制方式与DMA控制方式类似，也是一种以内存为中心，实现设备与内存直接交换数据的控制方式。</p>
<ol>
<li>特点不同</li>
</ol>
<p>在DMA控制方式中不但减轻了CPU的负担，而且提高了I/O数据传送速度。这种控制方式应用于块设备的数据传输。在通道控制方式中，CPU只需发出启动指令，指出通道相应的操作和I/O设备，该指令就可以启动通道并使通道从内存中调出相应的通道程序执行。</p>
<ol>
<li>干预不同</li>
</ol>
<p>与DMA相比，通道方式所需的CPU干预更少，并且可以做到一个通道控制多台设备，从而进一步减轻了CPU负担。</p>
<p><strong>Keep Curious , Keep Learning !</strong></p>
</div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ 本文结束，感谢您的阅读 ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">本文作者: </span><span class="copyright-author__value"><a href="http://zjeff-953.gitee.io/zjeff">Jeffords zuo</a></span></div><div class="copyright-link"><span class="copyright-link__name">本文链接: </span><span class="copyright-link__value"><a href="http://zjeff-953.gitee.io/zjeff/2021/01/02/%E7%B3%BB%E7%BB%9F%E6%8A%80%E6%9C%AF/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%20-%2005%20%E6%80%BB%E7%BA%BF%E5%92%8C%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E7%B3%BB%E7%BB%9F/">http://zjeff-953.gitee.io/zjeff/2021/01/02/%E7%B3%BB%E7%BB%9F%E6%8A%80%E6%9C%AF/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%20-%2005%20%E6%80%BB%E7%BA%BF%E5%92%8C%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E7%B3%BB%E7%BB%9F/</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">版权声明: </span><span class="copyright-notice__value">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> 许可协议。转载请注明出处！</span></div></div><div class="post-tags"><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="http://zjeff-953.gitee.io/zjeff/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/">计算机体系结构</a></span><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="http://zjeff-953.gitee.io/zjeff/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/">计算机组成原理</a></span></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/2021/01/03/%E6%95%B0%E7%90%86%E5%9F%BA%E7%A1%80/%E6%A6%82%E7%8E%87%E8%AE%BA%E4%B8%8E%E6%95%B0%E7%90%86%E7%BB%9F%E8%AE%A1%20-%20%E6%9C%80%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86/"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">概率论与数理统计 - 最核心知识</span></a></div><div class="paginator-next"><a class="paginator-next__link" href="/2020/12/28/%E7%94%9F%E6%B4%BB%E6%84%9F%E6%82%9F/%E7%94%9F%E6%B4%BB%E9%9A%8F%E7%AC%94%20-%2006%20%E6%9C%80%E5%90%8E%E4%B8%80%E6%AC%A1%E6%8B%A8%E4%B9%B1%E5%8F%8D%E6%AD%A3/"><span class="paginator-prev__text">生活随笔 - 06 最后一次  拨乱反正</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">文章目录</span><span class="sidebar-nav-ov">站点概览</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-05-%E6%80%BB%E7%BA%BF%E5%92%8C%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E7%B3%BB%E7%BB%9F"><span class="toc-text">
          计算机组成原理 - 05 总线和输入输出系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0"><span class="toc-text">
          1 概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%80%9A%E4%BF%A1%E7%9A%84%E9%83%A8%E4%BB%B6"><span class="toc-text">
          1.1 计算机通信的部件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E8%AE%A4%E8%AF%86%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E8%AE%BE%E5%A4%87"><span class="toc-text">
          1.2 认识输入输出设备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E4%B8%BB%E6%9C%BA%E5%92%8C%E5%A4%96%E9%83%A8%E8%AE%BE%E5%A4%87%E7%9A%84%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F"><span class="toc-text">
          1.3 主机和外部设备的连接方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%8E%A5%E5%8F%A3"><span class="toc-text">
          2 输入输出接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-text">
          2.1 接口的定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-text">
          2.2 接口的功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-text">
          2.3 接口的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8C%89%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%81%E6%A0%BC%E5%BC%8F%E5%88%92%E5%88%86"><span class="toc-text">
          2.3.1 按数据传送格式划分</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8C%89%E6%97%B6%E5%BA%8F%E6%8E%A7%E5%88%B6%E6%96%B9%E5%BC%8F%E5%88%92%E5%88%86"><span class="toc-text">
          2.3.2 按时序控制方式划分</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E6%8C%89I-O%E4%BC%A0%E9%80%81%E6%8E%A7%E5%88%B6%E6%96%B9%E5%BC%8F%E5%88%92%E5%88%86"><span class="toc-text">
          2.3.3 按I&#x2F;O传送控制方式划分</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E7%AB%AF%E5%8F%A3-%E6%8E%A5%E5%8F%A3-%E7%9A%84%E7%BC%96%E5%88%B6"><span class="toc-text">
          2.3.4 端口(接口)的编制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-5-%E6%8E%A5%E5%8F%A3%E5%8F%AF%E4%BB%A5%E4%BC%A0%E9%80%81%E7%9A%84%E4%BF%A1%E6%81%AF"><span class="toc-text">
          2.3.5 接口可以传送的信息</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%80%BB%E7%BA%BFBus"><span class="toc-text">
          3 总线Bus</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E6%80%BB%E7%BA%BF%E7%9A%84%E5%AE%9A%E4%B9%89-%E7%89%B9%E7%82%B9-%E7%BB%84%E6%88%90"><span class="toc-text">
          3.1 总线的定义,特点,组成</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-1-%E6%80%BB%E7%BA%BF%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-text">
          3.1.1 总线的定义:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-2-%E6%80%BB%E7%BA%BF%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">
          3.1.2 总线的特点*</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-3-%E6%80%BB%E7%BA%BF%E7%9A%84%E7%BB%84%E6%88%90-%E5%AE%9E%E4%BD%93"><span class="toc-text">
          3.1.3 总线的组成 &#x2F;实体</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E6%80%BB%E7%BA%BF%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-text">
          3.2  总线的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-1-%E6%8C%89%E5%8A%9F%E8%83%BD-%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84-%E5%88%92%E5%88%86"><span class="toc-text">
          3.2.1 按功能(层次结构)划分</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-2-%E6%8C%89%E6%97%B6%E5%BA%8F%E6%8E%A7%E5%88%B6%E6%96%B9%E5%BC%8F%E5%88%92%E5%88%86"><span class="toc-text">
          3.2.2 按时序控制方式划分</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-3-%E6%8C%89%E4%BC%A0%E8%BE%93%E4%BF%A1%E5%8F%B7%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%88%92%E5%88%86"><span class="toc-text">
          3.2.3 按传输信号的类型划分</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-4-%E6%8C%89%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%81%E6%A0%BC%E5%BC%8F%E5%88%92%E5%88%86"><span class="toc-text">
          3.2.4 按数据传送格式划分</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-5-%E4%B8%8D%E5%90%8C%E5%8A%9F%E8%83%BD%E6%80%BB%E7%BA%BF%E7%9A%84%E4%BC%A0%E9%80%81%E6%A0%BC%E5%BC%8F%E5%92%8C%E6%97%B6%E5%BA%8F%E6%8E%A7%E5%88%B6%E6%96%B9%E5%BC%8F"><span class="toc-text">
          3.2.5 不同功能总线的传送格式和时序控制方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E6%80%BB%E7%BA%BF%E7%9A%84%E7%BB%93%E6%9E%84-%E6%80%BB%E7%BA%BF%E6%A0%87%E5%87%86-%E6%80%BB%E7%BA%BF%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-text">
          3.2 总线的结构,总线标准,总线性能指标</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-1-%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84"><span class="toc-text">
          3.2.1 总线结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-2-%E6%80%BB%E7%BA%BF%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-text">
          3.2.2 总线性能指标</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-3-%E6%80%BB%E7%BA%BF%E6%A0%87%E5%87%86"><span class="toc-text">
          3.2.3 总线标准</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E6%80%BB%E7%BA%BF%E4%BB%B2%E8%A3%81"><span class="toc-text">
          3.3 总线仲裁*</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-1-%E6%80%BB%E7%BA%BF%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%96%B9%E5%BC%8F-%E6%80%BB%E7%BA%BF%E5%91%A8%E6%9C%9F"><span class="toc-text">
          3.3.1 总线的工作方式(总线周期)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-2-%E9%9B%86%E4%B8%AD%E4%BB%B2%E8%A3%81%E6%96%B9%E5%BC%8F"><span class="toc-text">
          3.3.2 集中仲裁方式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%93%BE%E5%BC%8F%E6%9F%A5%E8%AF%A2"><span class="toc-text">
          链式查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%A1%E6%95%B0%E5%99%A8%E5%AE%9A%E6%97%B6%E6%9F%A5%E8%AF%A2"><span class="toc-text">
          计数器定时查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%8B%AC%E7%AB%8B%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F"><span class="toc-text">
          独立请求方式</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-3-%E5%88%86%E5%B8%83%E4%BB%B2%E8%A3%81%E6%96%B9%E5%BC%8F"><span class="toc-text">
          3.3.3 分布仲裁方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E6%80%BB%E7%BA%BF%E5%AE%9A%E6%97%B6"><span class="toc-text">
          3.4 总线定时*</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-1-%E5%87%A0%E4%B8%AA%E5%91%A8%E6%9C%9F%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-text">
          3.4.1 几个周期的概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-2-%E5%90%8C%E6%AD%A5%E5%AE%9A%E6%97%B6%E6%96%B9%E5%BC%8F"><span class="toc-text">
          3.4.2 同步定时方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-3-%E5%BC%82%E6%AD%A5%E5%AE%9A%E6%97%B6%E6%96%B9%E5%BC%8F"><span class="toc-text">
          3.4.3 异步定时方式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%8D%E4%BA%92%E9%94%81"><span class="toc-text">
          不互锁</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8D%8A%E4%BA%92%E9%94%81"><span class="toc-text">
          半互锁</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%A8%E4%BA%92%E9%94%81"><span class="toc-text">
          全互锁</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-4-%E6%8B%93%E5%B1%95%E5%90%8C%E6%AD%A5%E5%AE%9A%E6%97%B6%E6%96%B9%E5%BC%8F"><span class="toc-text">
          3.4.4 拓展同步定时方式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%96%B9%E5%BC%8F"><span class="toc-text">
          5 输入输出方式*</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%A8%8B%E5%BA%8F%E6%9F%A5%E8%AF%A2%E6%96%B9%E5%BC%8F"><span class="toc-text">
          5.1 程序查询方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-1-%E5%A4%96%E8%AE%BE%E7%8A%B6%E6%80%81%E5%AD%97"><span class="toc-text">
          5.1.1 外设状态字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-2-%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="toc-text">
          5.1.2 工作流程</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E4%B8%AD%E6%96%AD%E5%92%8C%E4%B8%AD%E6%96%AD%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%96%B9%E5%BC%8F"><span class="toc-text">
          5.2 中断和中断输入输出方式*</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-1-%E4%B8%AD%E6%96%AD%E5%AE%9A%E4%B9%89-%E5%AE%9E%E8%B4%A8-%E7%89%B9%E7%82%B9"><span class="toc-text">
          5.2.1 中断定义,实质,特点</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89"><span class="toc-text">
          定义</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E8%B4%A8"><span class="toc-text">
          实质</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%89%B9%E7%82%B9-%E5%92%8C%E8%BD%AC%E5%AD%90%E5%AF%B9%E6%AF%94"><span class="toc-text">
          特点&#x2F;和转子对比</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-2-%E4%B8%AD%E6%96%AD%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-text">
          5.2.2 中断的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%89%E7%85%A7%E6%9D%A5%E6%BA%90%E4%BD%8D%E7%BD%AE%E5%88%86"><span class="toc-text">
          按照来源位置分</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%89%E7%85%A7%E5%BC%95%E5%8F%91%E5%8E%9F%E5%9B%A0%E5%88%86"><span class="toc-text">
          按照引发原因分</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%89%E7%85%A7%E5%8F%AF%E4%B8%8D%E5%8F%AF%E5%B1%8F%E8%94%BD%E5%88%86"><span class="toc-text">
          按照可不可屏蔽分</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%89%E7%85%A7%E5%AF%BB%E6%89%BE%E4%B8%AD%E6%96%AD%E5%AD%90%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%96%B9%E5%BC%8F%E5%88%86"><span class="toc-text">
          按照寻找中断子程序的方式分*</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-3-%E4%B8%AD%E6%96%AD%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-text">
          5.2.3 中断的应用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-4-%E4%B8%AD%E6%96%AD%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%BB%84%E6%88%90"><span class="toc-text">
          5.2.4 中断系统的组成</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-5-%E4%B8%AD%E6%96%AD%E7%9A%84%E5%85%A8%E8%BF%87%E7%A8%8B"><span class="toc-text">
          5.2.5 中断的全过程*</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-6-%E4%B8%AD%E6%96%AD%E8%AF%B7%E6%B1%82"><span class="toc-text">
          5.2.6 中断请求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-7-%E4%B8%AD%E6%96%AD%E5%88%A4%E4%BC%98"><span class="toc-text">
          5.2.7 中断判优*</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%90%84%E4%B8%AA%E4%B8%AD%E6%96%AD%E4%BC%98%E5%85%88%E7%BA%A7%E5%88%A4%E6%96%AD"><span class="toc-text">
          各个中断优先级判断</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E8%AF%B7%E6%B1%82%E5%92%8C%E7%8E%B0%E8%A1%8C%E7%A8%8B%E5%BA%8F%E5%88%A4%E4%BC%98"><span class="toc-text">
          中断请求和现行程序判优</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-8-%E4%B8%AD%E6%96%AD%E5%93%8D%E5%BA%94"><span class="toc-text">
          5.2.8 中断响应*</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E5%93%8D%E5%BA%94%E6%9D%A1%E4%BB%B6"><span class="toc-text">
          中断响应条件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E5%93%8D%E5%BA%94%E6%97%B6%E9%97%B4"><span class="toc-text">
          中断响应时间</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E5%93%8D%E5%BA%94%E8%BF%87%E7%A8%8B"><span class="toc-text">
          中断响应过程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E4%B8%AD%E6%96%AD%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%85%A5%E5%8F%A3%E5%9C%B0%E5%9D%80"><span class="toc-text">
          如何获取中断程序的入口地址</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-9-%E4%B8%AD%E6%96%AD%E6%9C%8D%E5%8A%A1"><span class="toc-text">
          5.2.9 中断服务*</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8D%95%E7%BA%A7%E4%B8%AD%E6%96%AD%E5%92%8C%E5%A4%9A%E7%BA%A7%E4%B8%AD%E6%96%AD"><span class="toc-text">
          单级中断和多级中断</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%9A%E7%BA%A7%E4%B8%AD%E6%96%AD%E4%B8%AD%E6%96%AD%E5%B1%8F%E8%94%BD%E5%AD%97%E7%94%9F%E6%95%88%E7%8E%AF%E8%8A%82"><span class="toc-text">
          多级中断中断屏蔽字生效环节</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%9D%E6%8A%A4%E7%8E%B0%E5%9C%BA%E5%92%8C%E4%BF%9D%E6%8A%A4%E6%96%AD%E7%82%B9%E8%BE%A8%E6%9E%90"><span class="toc-text">
          保护现场和保护断点辨析</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-10-%E4%B8%AD%E6%96%AD%E8%BF%94%E5%9B%9E"><span class="toc-text">
          5.2.10 中断返回</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-11-%E4%B8%AD%E6%96%AD%E6%96%B9%E5%BC%8F%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="toc-text">
          5.2.11 中断方式输入输出的过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-12-%E4%B8%AD%E6%96%AD%E6%8E%A5%E5%8F%A3"><span class="toc-text">
          5.2.12 中断接口</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E6%8E%A5%E5%8F%A3%E7%BB%93%E6%9E%84"><span class="toc-text">
          中断接口结构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B"><span class="toc-text">
          中断接口工作过程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1"><span class="toc-text">
          中断接口设计</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-DMA%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%96%B9%E5%BC%8F"><span class="toc-text">
          5.3 DMA输入输出方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-1-DMA%E5%AE%9A%E4%B9%89"><span class="toc-text">
          5.3.1 DMA定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-2-DMA%E7%89%B9%E7%82%B9%E4%B8%8E%E5%BA%94%E7%94%A8"><span class="toc-text">
          5.3.2 DMA特点与应用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#DMA%E7%89%B9%E7%82%B9"><span class="toc-text">
          DMA特点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#DMA%E5%BA%94%E7%94%A8%E5%9C%BA%E5%90%88"><span class="toc-text">
          DMA应用场合</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-3-DMA%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%81%E6%93%8D%E4%BD%9C%E6%96%B9%E5%BC%8F"><span class="toc-text">
          5.3.3 DMA的数据传送操作方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-4-DMA%E4%BC%A0%E9%80%81%E7%9A%84%E4%B8%89%E4%B8%AA%E9%98%B6%E6%AE%B5"><span class="toc-text">
          5.3.4 DMA传送的三个阶段</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A2%84%E5%A4%84%E7%90%86"><span class="toc-text">
          预处理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%81"><span class="toc-text">
          数据传送</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%90%8E%E5%A4%84%E7%90%86"><span class="toc-text">
          后处理</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-5-DMA%E7%A1%AC%E4%BB%B6%E5%8A%9F%E8%83%BD"><span class="toc-text">
          5.3.5 DMA硬件功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-4-DMA%E5%92%8C%E4%B8%AD%E6%96%AD%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">
          5.3.4 DMA和中断的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-5-%E7%A3%81%E7%9B%98%E7%9A%84DMA%E6%96%B9%E5%BC%8F%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E8%BF%87%E7%A8%8B"><span class="toc-text">
          5.3.5 磁盘的DMA方式输入输出过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-6-DMA-vs-%E9%80%9A%E9%81%93"><span class="toc-text">
          5.3.6 DMA vs 通道</span></a></li></ol></li></ol></li></ol></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="https://gitee.com/zjeff-953/picsBed/raw/master/image/cat.jpg" alt="avatar"></div><p class="sidebar-ov-author__text">Keep Curious</p></div><div class="sidebar-ov-social"><a class="sidebar-ov-social-item" href="https://github.com/github" target="_blank" rel="noopener" data-popover="Github" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-github"></i></span></a><a class="sidebar-ov-social-item" href="https://www.zhihu.com/" target="_blank" rel="noopener" data-popover="知乎" data-popover-pos="up"><span class="sidebar-ov-social-item__icon">知</span></a><a class="sidebar-ov-social-item" href="1572754810" target="_blank" rel="noopener" data-popover="QQ" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-qq"></i></span></a><a class="sidebar-ov-social-item" href="https://gitee.com/zjeff-953" target="_blank" rel="noopener" data-popover="码云" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-git"></i></span></a></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">205</div><div class="sidebar-ov-state-item__name">归档</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">35</div><div class="sidebar-ov-state-item__name">分类</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">51</div><div class="sidebar-ov-state-item__name">标签</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="知识共享许可协议" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">你已阅读了 </span><span class="sidebar-reading-info__num">0</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2021</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>Jeffords zuo</span></div><div><span>由 <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> 强力驱动</span><span> v5.4.0</span><span class="footer__devider">|</span><span>主题 - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.1.1</span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><link href="//cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="//cdn.jsdelivr.net/npm/katex@0/dist/contrib/copy-tex.min.css" rel="stylesheet" type="text/css"><script src="//cdn.jsdelivr.net/npm/katex@0/dist/contrib/copy-tex.min.js"></script><script src="/js/utils.js?v=2.1.1"></script><script src="/js/stun-boot.js?v=2.1.1"></script><script src="/js/scroll.js?v=2.1.1"></script><script src="/js/header.js?v=2.1.1"></script><script src="/js/sidebar.js?v=2.1.1"></script></body></html>