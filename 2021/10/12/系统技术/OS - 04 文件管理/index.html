<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon.png?v=2.1.1" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon.png?v=2.1.1" type="image/png" sizes="32x32"><meta name="description" content="描述">
<meta property="og:type" content="article">
<meta property="og:title" content="OS - 04 文件管理">
<meta property="og:url" content="http://zjeff-953.gitee.io/zjeff/2021/10/12/%E7%B3%BB%E7%BB%9F%E6%8A%80%E6%9C%AF/OS%20-%2004%20%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/index.html">
<meta property="og:site_name" content="Jeff&#39;s blog">
<meta property="og:description" content="描述">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210502220146.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503104112.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503102739.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503105447.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503145148.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503153518.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503153543.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503153936.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503154958.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503155110.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503155302.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503160917.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503161033.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503161448.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503165123.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503165552.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503170407.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503174442.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210702082142.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503175006.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503201346.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503201725.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503203038.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503204135.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503202254.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503210035.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503210516.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503210556.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503210110.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503211437.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503211022.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503211029.png">
<meta property="og:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503211044.png">
<meta property="article:published_time" content="2021-10-12T06:34:25.344Z">
<meta property="article:modified_time" content="2021-07-02T00:22:00.000Z">
<meta property="article:author" content="Jeffords zuo">
<meta property="article:tag" content="操作系统">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210502220146.png"><title>OS - 04 文件管理 | Jeff's blog</title><link ref="canonical" href="http://zjeff-953.gitee.io/zjeff/2021/10/12/%E7%B3%BB%E7%BB%9F%E6%8A%80%E6%9C%AF/OS%20-%2004%20%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.1.1"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":5},
  header: {"enable":true,"showOnPost":false,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"复制","copySuccess":"复制成功","copyError":"复制失败"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Jeff's blog" type="application/atom+xml">
</head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner header-inner--height header-inner--bgcolor"><nav class="header-nav header-nav--sticky"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">归档</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">分类</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">标签</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/reading/"><span class="header-nav-menu-item__icon"><i class="fas fa-book"></i></span><span class="header-nav-menu-item__text">阅读</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/about/"><span class="header-nav-menu-item__icon"><i class="fas fa-user-tie"></i></span><span class="header-nav-menu-item__text">关于</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">OS - 04 文件管理</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-10-12</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-07-02</span></span></div></header><div class="post-body">
        <h1 id="OS-04-文件管理"   >
          <a href="#OS-04-文件管理" class="heading-link"><i class="fas fa-link"></i></a>OS - 04 文件管理</h1>
      <p>本章主要介绍OS如何通过文件系统来管理程序、数据等信息资源，具体包括文件和文件系统的基本概念、文件的逻辑结构、目录的管理、文件的共享和保护等内容。</p>
<p>主要内容</p>
<ol>
<li>文件的概念，文件系统的层次结构和文件的基本操作。</li>
<li>目录管理的要求，文件控制块和索引节点，以及查询技术，文件的共享方式和访问控制机制。</li>
<li>文件的物理结构和外存空间的管理：外存组织的目的，连续组织和链接组织方式，空闲表法和位示图法和成组链接法。</li>
</ol>
<span id="more"></span>
<ol>
<li>什么是文件？</li>
<li>文件由什么组成？</li>
<li>文件如何命名？</li>
<li>如何保证文件数据的安全？</li>
<li>对文件可以进行哪些操作？</li>
<li>文件在磁盘上如何存储？</li>
<li>磁盘的空白存储区如何管理 ？</li>
</ol>

        <h2 id="4-1-文件相关概念和文件系统的基本认识"   >
          <a href="#4-1-文件相关概念和文件系统的基本认识" class="heading-link"><i class="fas fa-link"></i></a>4.1 文件相关概念和文件系统的基本认识</h2>
      
        <h3 id="4-1-1-文件-文件的属性-文件的类型"   >
          <a href="#4-1-1-文件-文件的属性-文件的类型" class="heading-link"><i class="fas fa-link"></i></a>4.1.1 文件, 文件的属性, 文件的类型</h3>
      
        <h4 id="1-什么是文件"   >
          <a href="#1-什么是文件" class="heading-link"><i class="fas fa-link"></i></a>1 什么是文件</h4>
      <p><strong>我们认知的文件和目录都是文件</strong></p>
<p>文件是存储和管理数据的容器</p>
<p>文件中的数据是由一条条记录构成的。则文件就是记录的集合。每条记录可能包含多个数据项，每个数据项是不可分割的数据单元</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210502220146.png" alt="image-20210502220146576" style="zoom:50%;" /></p>
<p><strong>文件是指由创建者所定义的、 具有文件名的一组相关元素的集合。</strong></p>
<ul>
<li>一是由<strong>创建者</strong></li>
<li>二是有<strong>定义</strong><ul>
<li><strong>文件内容</strong>的具体<strong>含义</strong>由文件的创建者和使用者解释。</li>
</ul>
</li>
<li>三是具有<strong>特定的名字</strong><ul>
<li><strong>文件名</strong>由文件创建者在创建文件时给出， 每个系统有自己的文件名命名规则，但文件名通常是由一串ASCII码或(和)汉字构成的</li>
</ul>
</li>
<li>四是一组相关元素的<strong>集合</strong><ul>
<li><strong>文件</strong>的基本内容可以由<strong>零个或多个字节构成</strong></li>
<li>这些字节可以是简单的字符流，也可以是<strong>一个或多个记录的集合</strong></li>
</ul>
</li>
</ul>
<p>在<strong>有结构的文件</strong>中，文件由若干个相关<strong>记录</strong>组成；<br>而<strong>无结构文件</strong>则被看成是一个<strong>字符流</strong></p>
<p><strong>文件在文件系统中是一个基本的管理单元，这个管理单元必然有一组属性。</strong></p>
<blockquote>
<p>由字符序列组成，文件内的信息不再划分结构，这是指( )<br><strong>A.流式文件</strong>  B.记录式文件  C.连续文件  D.有序文件</p>
</blockquote>

        <h4 id="2-文件的属性"   >
          <a href="#2-文件的属性" class="heading-link"><i class="fas fa-link"></i></a>2 文件的属性</h4>
      <p>文件除了文件名和基本内容以外，还应具有自己的属性, 比如: </p>
<ol>
<li>文件类型</li>
<li>文件长度</li>
<li>文件的物理位置</li>
<li>文件的建立时间</li>
</ol>
<p>等</p>
<p><strong>文件存储器</strong>存储<strong>文件</strong>的<strong>基本内容</strong>和<strong>属性信息</strong>, <strong>用户</strong>可以通过<strong>文件名</strong>来访问相应<strong>文件的基本内容</strong></p>

        <h4 id="3-文件的分类"   >
          <a href="#3-文件的分类" class="heading-link"><i class="fas fa-link"></i></a>3 文件的分类</h4>
      <p>按不同分类依据: </p>
<ol>
<li><p>用途</p>
<ol>
<li>系统文件 =&gt; 系统软件构成的文件, 用户可以xr, 不能w, 有的甚至不能xr</li>
<li>用户文件 =&gt; 用户自己的文件</li>
<li>库文件 =&gt; 允许用户 xr</li>
</ol>
</li>
<li><p>数据的形式</p>
<ol>
<li>源文件 =&gt; 源程序 + 数据</li>
<li>目标文件 =&gt; 编译后未链接</li>
<li>可执行文件 =&gt; 编译链接后</li>
</ol>
</li>
<li><p>存取控制属性</p>
<p>系统管理员或用户规定存取控制属性</p>
<ol>
<li>只执行文件</li>
<li>只读文件</li>
<li>读写文件</li>
</ol>
</li>
<li><p><strong>组织形式和处理方式</strong></p>
<ol>
<li>普通文件<ul>
<li>由ASCII码或二进制码组成的字符文件。一般用户建立的源程序文件、数据文件、目标代码文件及操作系统自身代码文件、库文件、实用程序文件等都是普通文件，它们通常存储在外存储设备上。</li>
</ul>
</li>
<li>目录文件<ul>
<li>由文件目录组成的，用来管理和实现文件系统功能的系统文件，通过目录文件可以对其它文件的信息进行检索。由于目录文件也是由字符序列构成，因此对其可进行与普通文件一样的各种文件操作</li>
</ul>
</li>
<li>特殊文件<ul>
<li>特指系统中的各类I/O 设备。为了便于统一管理，系统将所有的输入/输出设备都视为文件，按文件方式提供给用户使用</li>
</ul>
</li>
</ol>
</li>
<li><p>按逻辑结构分类可以分成结构文件和无结构文件</p>
</li>
</ol>
<blockquote>
<p>1.特别文件是与(     )有关的文件。<br>A.文本    B.图像    <strong>C.硬件设备</strong>     D.二进制数据</p>
<p>2.按文件用途来分，编辑程序是( )<br><strong>A.系统文件</strong>      B.文档文件<br>C.用户文件      D.库文件</p>
</blockquote>

        <h4 id="4-文件的使用"   >
          <a href="#4-文件的使用" class="heading-link"><i class="fas fa-link"></i></a>4 文件的使用</h4>
      <p>Linux系统文件操作间的基本关系</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503104112.png" alt="image-20210503104112765" style="zoom:50%;" /></p>
<ul>
<li><p>创建文件。分配外存空间 =&gt; 建立一个目录项 (登记该文件的文件名及其在外存的地址等属性)</p>
</li>
<li><p>删除文件。找到目录项 =&gt; 回收外存地址所占的存储空间 =&gt; 释放目录项</p>
</li>
<li><p>读文件。通过目录项找到外存的物理位置 =&gt; 将数据读入内存</p>
</li>
<li><p>写文件。通过目录项找到外存的物理位置 =&gt; 将数据写到外存中。</p>
</li>
<li><p>设置文件的读/写指针。</p>
<p>文件的读/写指针指出了要读/写的信息距离文件首字节的偏移量。</p>
<p>在读/写文件时，将根据读/写指针和相应文件目录项中的外存地址信息计算出欲 读/写的信息在外存的地址。</p>
<p>通过设置文件读/写指针的操作，可将读/写指针设置到文件的 任一位置，从而实现对该文件内容的随机访问。</p>
</li>
<li><p>打开文件。将文件的属性信息复制到内存中 =&gt; 返回指向内存中的该文件属性信息的指针</p>
</li>
<li><p>关闭文件。判断文件的属性信息有没有修改过, 修改过则写回外存=&gt;从内存中删除指定文件的属性信息</p>
</li>
<li><p>其它文件操作：对文件属性的操作，改变文件名、改变文件的拥有者，查询文件的状态等；  </p>
</li>
</ul>

        <h3 id="4-1-2-文件的结构"   >
          <a href="#4-1-2-文件的结构" class="heading-link"><i class="fas fa-link"></i></a>4.1.2 文件的结构</h3>
      
        <h4 id="1-文件的逻辑结构"   >
          <a href="#1-文件的逻辑结构" class="heading-link"><i class="fas fa-link"></i></a>1 文件的逻辑结构</h4>
      <p>文件的逻辑结构是指从用户角度出发所观察到的文件组织形式</p>
<p>从逻辑结构的角度考虑, 可将文件分成有结构文件和无结构文件两大类</p>

        <h5 id="1-1-有结构文件（记录式文件）"   >
          <a href="#1-1-有结构文件（记录式文件）" class="heading-link"><i class="fas fa-link"></i></a>1.1 有结构文件（记录式文件）</h5>
      <p>有结构文件也称记录式文件，<strong>其数据的组成可以分成数据项、记录和文件三级。</strong></p>
<p>最低级的数据组织形式是<strong>数据项</strong>，它可用来<strong>描述</strong>一个个体的<strong>某种属性</strong></p>
<p>多个<strong>数据项的集合</strong>形成<strong>一个记录</strong>，它可用来描述一个个体<strong>某方面</strong>相对完整的属性</p>
<p>多个<strong>记录的有序集合</strong>构成了<strong>文件</strong>，<strong>文件在文件系统中是一个最大的数据单位</strong>，它描述了一个对象集。</p>
<p>通常，可以<strong>用一个或多个数据项来唯一地标识一个记录</strong>，这些数据项的集合被称为<strong>关键字</strong>。</p>
<p>文件的记录, 记录的数据项个数都是不同的, 所以记录式文件 又可以分成定长记录文件和变长记录文件两类。</p>
<p>记录式文件的逻辑组织又可进一步分成以下几种方式：</p>
<ol>
<li>顺序文件。通常是定长记录文件。按关键字的次序进行排列。故顺序文件（尤其是其中的顺序结 构文件）通常具有较快的记录检索速度。</li>
<li>索引文件。通常为变长记录文件。为<strong>每个文件建立 一张索引表</strong>，并将主文件的<strong>每个记录的记录号</strong>（或关键字）、<strong>长度和逻辑地址</strong>（即记录离文件 首字节的偏移量）<strong>记录在索引表</strong>中。</li>
<li>索引顺序文件。其中的记录按顺序方式组织，每个文件也需建立一张索引表，但因为其只需为主文件的每一组记录的第一 个记录设置一个索引表项，因此能有效地减少索引表所占的空间。</li>
</ol>

        <h5 id="1-2-无结构文件（流式文件）"   >
          <a href="#1-2-无结构文件（流式文件）" class="heading-link"><i class="fas fa-link"></i></a>1.2 无结构文件（流式文件）</h5>
      <ol>
<li>基本单位是字节, 可以将它看做是记录式文件的一个特例</li>
<li>以字节（Byte）为单位</li>
<li>没有具体结构</li>
<li>采用穷举方式搜索</li>
</ol>
<p>很多操作系统中，如UNIX系统，所有的文件都被看成是流式文件</p>

        <h4 id="2-文件的物理结构"   >
          <a href="#2-文件的物理结构" class="heading-link"><i class="fas fa-link"></i></a>2 文件的物理结构</h4>
      <p>物理结构是文件存储的内容, 详细内容和文件系统的设计实现有关</p>
<ol>
<li><p>文件控制块（FCB）</p>
<p>用来存储文件本身的信息</p>
<p>基本信息<br>存取控制信息<br>使用信息<br>变长记录文件</p>
</li>
<li><p>索引节点（INode）</p>
<p>存储文件的关系</p>
<p>变长记录文件</p>
</li>
<li><p>目录结构</p>
<p>存储目录</p>
<p>变长记录文件</p>
</li>
</ol>

        <h3 id="4-1-3-文件系统的概念-功能和模型"   >
          <a href="#4-1-3-文件系统的概念-功能和模型" class="heading-link"><i class="fas fa-link"></i></a>4.1.3 文件系统的概念, 功能和模型</h3>
      <p>模型是符合概念的, 能够实现应有功能的设计方案</p>

        <h4 id="1-文件系统的概念"   >
          <a href="#1-文件系统的概念" class="heading-link"><i class="fas fa-link"></i></a>1 文件系统的概念</h4>
      <p><strong>文件系统指的是 : 操作系统中的各类文件、管理文件的软件，以及管理文件所涉及到的数据结构等信息的集合</strong></p>
<p>三个部分： </p>
<ol>
<li>文件</li>
<li>管理文件的软件</li>
<li>管理文件所涉及到的数据结构等信息的集合</li>
</ol>
<p>绝大多数操作系统都包含有文件系统，但是部分<strong>实时操作</strong>系统<strong>可能没有文件系统</strong>。尤其是那些并不需要保存数据的操作系统，如传感器中的操作系统，它们的数据往往保存在远端的服务器上，本身并不保存数据，因此也就不需要文件系统了</p>
<blockquote>
<p>所谓文件系统是指( )<br>A.文件的集合<br>B.文件的目录<br>C.实现文件管理的一组软件<br><strong>D.文件、管理文件的软件及数据结构的总体</strong></p>
<p>操作系统的文件系统(    )<br>A.包括负责管理文件的一组系统软件<br>B.包括被管理的对象，即文件<br><strong>C.A和B</strong><br>D.仅包括数据</p>
</blockquote>

        <h4 id="2-文件系统的功能"   >
          <a href="#2-文件系统的功能" class="heading-link"><i class="fas fa-link"></i></a>2 文件系统的功能</h4>
      <ol>
<li>有效地管理文件的存储空间<ol>
<li>文件存储位置的管理，读的是后去哪里读? </li>
<li>空闲存储空间的管理，写的时候能写到哪里? </li>
</ol>
</li>
<li>管理文件目录<ul>
<li>目录是组织文件的有效手段, 管理目录方便文件的访问</li>
</ul>
</li>
<li>完成文件的读/写操作</li>
<li>文件的保护和共享<ul>
<li>保护 : 哪些人可以访问哪些文件了，保护就是要避免文件被不应该看到的人看到</li>
<li>共享 : 文件被允许访问的其他人访问</li>
</ul>
</li>
<li>为用户提供交互式命令接口和程序调用接口<ul>
<li>命令接口</li>
<li>程序接口</li>
<li>图形接口</li>
</ul>
</li>
</ol>

        <h4 id="3-文件系统的模型"   >
          <a href="#3-文件系统的模型" class="heading-link"><i class="fas fa-link"></i></a>3 文件系统的模型**</h4>
      <p>描述的文件系统的理论模型。Windows、Unix和Linux文件系统也没采用这样的模型。</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503102739.png" alt="image-20210503102739190" style="zoom:33%;" /></p>
<p>我们自底向上解释一下这个图</p>

        <h5 id="3-1-对象及其属性"   >
          <a href="#3-1-对象及其属性" class="heading-link"><i class="fas fa-link"></i></a>3.1 对象及其属性</h5>
      <p>文件管理系统管理的对象有：文件, 目录, 磁盘存储空间</p>
<ol>
<li><p>文件是文件系统的基本管理对象</p>
</li>
<li><p>目录的组织和管理是方便用户和提高对文件存取速度的关键</p>
</li>
<li><p>文件和目录必定占用存储空间, 对存储空间的管理目的是</p>
<ol>
<li><p>提高外存的利用率</p>
</li>
<li><p>提高对文件的存取速度</p>
<blockquote>
<p>以前磁盘贵, 利用率更重要, 现在读写速度更重要</p>
</blockquote>
</li>
</ol>
</li>
</ol>

        <h5 id="3-2-对象操纵和管理的软件集合-—-文件管理系统的核心部分"   >
          <a href="#3-2-对象操纵和管理的软件集合-—-文件管理系统的核心部分" class="heading-link"><i class="fas fa-link"></i></a>3.2 对象操纵和管理的软件集合 — 文件管理系统的核心部分</h5>
      <ol>
<li>对文件<strong>存储空间的管理</strong></li>
<li>对文件<strong>目录的管理</strong></li>
<li>用于将文件的<strong>逻辑地址转换为物理地址</strong>的机制</li>
<li>对文件<strong>读和写的管理</strong></li>
<li>对文件的<strong>共享与保护</strong>等功能</li>
</ol>

        <h5 id="3-3-文件系统的接口"   >
          <a href="#3-3-文件系统的接口" class="heading-link"><i class="fas fa-link"></i></a>3.3 文件系统的接口</h5>
      <ol>
<li>命令接口</li>
<li>程序接口</li>
<li>图形接口</li>
</ol>
<blockquote>
<p>下列哪一项不是文件系统的功能( )<br>A.实现文件多保字空间到外存空间的映射，及实现文件的按名存取<br>B.实现文件信息的共享，并且提代何靠的文件保护和保密措施<br><strong>C.为了提高CPU与I／O之间的并行操作程度，对缓冲区的文件进行管理</strong><br>D.有效的实现对文件的各种控制操作和存取操作</p>
<p>缓冲区管理是输入输出管理的一部分</p>
</blockquote>

        <h2 id="4-2-文件系统的具体实现"   >
          <a href="#4-2-文件系统的具体实现" class="heading-link"><i class="fas fa-link"></i></a>4.2 文件系统的具体实现</h2>
      <p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503105447.png" alt="image-20210503105447386" style="zoom:50%;" /></p>

        <h3 id="4-2-1-目录管理"   >
          <a href="#4-2-1-目录管理" class="heading-link"><i class="fas fa-link"></i></a>4.2.1 目录管理</h3>
      <p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503145148.png" alt="image-20210503145148525" style="zoom: 67%;" /></p>
<p>电脑里文件太多了, 所以需要使用目录整理文件</p>
<p>文件目录的<strong>要求</strong>是 : </p>
<ol>
<li>实现“<strong>按名存取</strong>”。 </li>
<li>提高对目录的<strong>检索速度</strong>。 </li>
<li>文件<strong>共享</strong>。 </li>
<li>允许文件<strong>重名</strong>。 </li>
</ol>

        <h4 id="1-文件系统的数据结构"   >
          <a href="#1-文件系统的数据结构" class="heading-link"><i class="fas fa-link"></i></a>1 文件系统的数据结构</h4>
      
        <h5 id="1-1-文件控制块-FCB-和-目录"   >
          <a href="#1-1-文件控制块-FCB-和-目录" class="heading-link"><i class="fas fa-link"></i></a>1.1 文件控制块 FCB 和 目录</h5>
      <p><strong>文件控制块（FCB）是OS用来描述和控制文件的一个数据结构</strong></p>
<p>文件控制块的内容 : </p>
<ol>
<li><strong>基本信息：文件名、文件类型等</strong>, 其中文件名和文件类型是最基本的信息</li>
<li>地址信息：卷（存储文件的设备）、起始地址（起始物理地址）、文件长度（以字节、字或块为单位）等</li>
<li>访问控制信息：文件所有者、访问信息（用户名和口令等）、合法操作等</li>
<li>使用信息：创建时间、创建者身份、当前状态、最近修改时间、最近访问时间等</li>
</ol>
<p>文件控制块与文件一一对应</p>
<p>目录 : 文件控制块的有序集合</p>
<p>目录项 : 目录的每个文件控制块 (集合的元素)</p>
<p><strong>目录</strong>通常也是<strong>以文件的方式存放在外存</strong>上，故也被称作目录文件。</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503153518.png" alt="image-20210503153518612" style="zoom:50%;" /></p>
<p>如图所示, 这是使用FCB存储全部目录内容的方式, 下面可以使用索引节点增加一层, 提高检索效率</p>

        <h5 id="1-2-索引节点"   >
          <a href="#1-2-索引节点" class="heading-link"><i class="fas fa-link"></i></a>1.2 索引节点</h5>
      <p><strong>索引节点：文件描述信息单独形成一个数据结构。文件名与索引节点分开</strong></p>
<p>检索过程中，实际上只用到了文件名信息，其他信息找到了对应名字的控制块才找</p>
<p>因此，有些系统，如UNIX系统，便釆用把文件名和文件描述信息分开的办法，即，将文件描述信息单独形成一个称为<strong>索引结点</strong>的数据结构，存放在<strong>外存</strong>的<strong>索引结点区</strong>，而组成<strong>文件目录的目录项</strong>中<strong>仅有文件名</strong>和<strong>指向该文件所对应的索引结点的指针。</strong>这样，便可大大减少文件目录所占的磁盘块数，从而加快检索目录的速度</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503153543.png" alt="image-20210503153543517" style="zoom:50%;" /></p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503153936.png" alt="image-20210503153936090" style="zoom:50%;" /></p>
<blockquote>
<p>文件控制块FCB是文件存在的标志，文件控制块的有序集合构成了( )<br>A.目录文件                 B.文件系统<br><strong>C.文件目录</strong>                 D.目录结构</p>
</blockquote>

        <h5 id="1-3-目录结构"   >
          <a href="#1-3-目录结构" class="heading-link"><i class="fas fa-link"></i></a>1.3 目录结构</h5>
      <p>这些文件如何来组织，就是目录的结构问题</p>
<p>单级目录结构、两级目录结构和层次目录结构</p>

        <h6 id="1-单级目录结构"   >
          <a href="#1-单级目录结构" class="heading-link"><i class="fas fa-link"></i></a>1 单级目录结构</h6>
      <p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503154958.png" alt="image-20210503154958125" style="zoom:50%;" /></p>
<p>单级目录结构在整个文件系统中只建立一张目录表，每个文件占 其中的一个表项。</p>
<p>单级目录的优点是简单且能实现目录管理的基本功能——按名存取</p>
<p>存在下述一些缺点：<br>      (1) 查找速度慢<br>      (2) 不允许重名<br>      (3) 不便于实现文件共享 </p>

        <h6 id="2-两级目录结构"   >
          <a href="#2-两级目录结构" class="heading-link"><i class="fas fa-link"></i></a>2 两级目录结构</h6>
      <p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503155110.png" alt="image-20210503155110497" style="zoom:50%;" /></p>
<p>一定程度解决了重名问题<br>提高了文件目录检索效率<br>简单的文件共享</p>
<p>问题：不便用户文件的逻辑分类；进一步解决重名、共享、检索效率等问题</p>
<blockquote>
<ol>
<li>在文件系统中，用户以(    )方式直接使用外存。<br>A.逻辑地址  B.物理地址  C.名字空间  <strong>D.虚拟地址</strong></li>
<li>文件系统实现按名存取主要是靠(    )来实现的。<br> A.查找位示图  <strong>B.查找文件目录</strong>  C.查找作业表  D.地址转换机构</li>
</ol>
</blockquote>

        <h6 id="3-多级目录结构-树型目录结构"   >
          <a href="#3-多级目录结构-树型目录结构" class="heading-link"><i class="fas fa-link"></i></a>3 多级目录结构/树型目录结构</h6>
      <p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503155302.png" alt="image-20210503155302003" style="zoom:50%;" /></p>
<p>主目录在这里被称为根目录，把数据文件称为树叶，其它的目录均作为树的结点</p>
<p>树叶是数据文件 , 树的节点是目录，或称为子目录</p>
<p><strong>路径名</strong>：从树的根（即主目录）开始，把全部目录文件名与数据文件名，依次地用“/”连接起来，即构成该数据文件的路径名（path  name）。<strong>系统中的每一个文件都有惟一的路径名</strong></p>
<p><strong>当前目录</strong>：为每个进程设置一个“当前目录”，又称为“<strong>工作目录</strong>”进程对各文件的访问都相对于“当前目录”而进行。</p>
<p>从树的根开始的路径名称为<strong>决对路径名</strong>，从当前目录开始的路径名称为<strong>相对路径</strong>。</p>
<blockquote>
<p>用户的(    )就是用户注册进入系统时的初始基本目录。<br>A.当前目录   B.工作目录    C.相对路径名   <strong>D.主目录</strong></p>
<p>UNIX的文件目录系统采用( )结构。<br>A.单级目录  B.二级目录  C.树型多级目录  <strong>D.可装卸式多级树型目录</strong></p>
</blockquote>

        <h4 id="2-目录操作"   >
          <a href="#2-目录操作" class="heading-link"><i class="fas fa-link"></i></a>2 目录操作</h4>
      
        <h5 id="2-1-创建目录"   >
          <a href="#2-1-创建目录" class="heading-link"><i class="fas fa-link"></i></a>2.1 创建目录</h5>
      <p>创建目录首先是指创建子目录，即建立一个新的目录文件</p>
<p>父目录名字 =&gt; 在目录树中检索到父目录文件后 =&gt; 检查父目录文件中是否已有同名的  =&gt; 没有就可以创建新的目录文件了</p>
<p>也可以使用同样的方式创建一个普通文件</p>

        <h5 id="2-2-删除目录"   >
          <a href="#2-2-删除目录" class="heading-link"><i class="fas fa-link"></i></a>2.2 删除目录</h5>
      <p>目录删除方法有两种： 1. 不删除非空目录  2. 可删除非空目录。 </p>
<p>如果不允许删除非空目录，则比较简单，只需检查被删除的目录文件中是否还有使用的项，如果有就拒绝删除即可</p>
<p>如果允许删除非空目录呢？则系统需要自动的遍历要删除目录文件下的所有子目录和文件，将它们都删除完后再删除要删除的目录文件。</p>
<p>许多系统不允许删除非空目录，原因可能是：首先遍历删除所有子目录和文件可能耗时太长，太长时间由一个进程在内核中操作，不利于进程间调度。</p>
<p>另外，非空目录下的文件可能是其他用户的，一下都把它们删除了，也不便于其他用户的使用</p>

        <h5 id="2-3-改变目录"   >
          <a href="#2-3-改变目录" class="heading-link"><i class="fas fa-link"></i></a>2.3 改变目录</h5>
      <p>改变工作目录</p>

        <h5 id="2-4-移动目录"   >
          <a href="#2-4-移动目录" class="heading-link"><i class="fas fa-link"></i></a>2.4 移动目录</h5>
      <p>将一个子目录或者文件移动到其他目录下</p>

        <h5 id="2-5-链接操作"   >
          <a href="#2-5-链接操作" class="heading-link"><i class="fas fa-link"></i></a>2.5 链接操作</h5>
      <p>让同一个文件具有多个父目录，例如前面树目录中的/B/D/F，它也可以用/C/A访问，都是同一个文件</p>

        <h5 id="2-6-查找"   >
          <a href="#2-6-查找" class="heading-link"><i class="fas fa-link"></i></a>2.6 **查找</h5>
      <p>对目录进行查询的方式有两种：线性检索法和Hash方法</p>

        <h6 id="1-线性检索法-顺序检索法"   >
          <a href="#1-线性检索法-顺序检索法" class="heading-link"><i class="fas fa-link"></i></a>1. 线性检索法/ 顺序检索法</h6>
      <p>就是用文件名从头开始一个一个的核对名字，直到找到相同名字的目录项</p>
<p>①在单级目录(树形目录中的某一集)中，利用用户提供的文件名，用顺序查找法</p>
<p>②在树型目录中，用户提供的文件名是由多个文件分量名组成的路径名，此时须对多级目录进行查找。 </p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503160917.png" alt="image-20210503160917196" style="zoom:50%;" /></p>
<blockquote>
<p>在操作系统中，将文件名转换为文件存储地址，对文件实施控制管理都是通过( )来实现的。<br><strong>A.文件目录</strong>  B.PCB表  C.路径名  D.文件名</p>
</blockquote>

        <h6 id="2-Hash方法"   >
          <a href="#2-Hash方法" class="heading-link"><i class="fas fa-link"></i></a>2. Hash方法</h6>
      <p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503161033.png" alt="image-20210503161032951"></p>

        <h3 id="4-2-2-文件存储位置管理-磁盘管理"   >
          <a href="#4-2-2-文件存储位置管理-磁盘管理" class="heading-link"><i class="fas fa-link"></i></a>4.2.2 文件存储位置管理/磁盘管理</h3>
      <p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503161448.png" alt="image-20210503161448212" style="zoom:50%;" /></p>
<p>磁盘管理的问题: </p>
<p>如何划分磁盘空间？<br>如何为一个新建文件分配空间？<br>如何为一个已存在的文件增加存储空间？<br>用什么数据结构记载文件已分配到的数据块和空闲数据块？</p>
<p><strong>磁盘管理的主要任务和目标:</strong> </p>
<ol>
<li>有效地<strong>利用外存空间</strong></li>
<li>提高对文件的<strong>访问速度</strong></li>
<li>提高磁盘系统的<strong>可靠性</strong></li>
</ol>
<p>目前，常见的文件磁盘块的组织方法有: 连续组织, 链接组织, 索引组织</p>

        <h4 id="磁盘管理中遇到的问题"   >
          <a href="#磁盘管理中遇到的问题" class="heading-link"><i class="fas fa-link"></i></a>磁盘管理中遇到的问题:</h4>
      <p>内部碎片和外部碎片</p>

        <h4 id="1-连续组织"   >
          <a href="#1-连续组织" class="heading-link"><i class="fas fa-link"></i></a>1 连续组织</h4>
      <p>连续分配(Continuous Allocation)要求为每一个文件分配一组相邻接的盘块</p>
<p>一组盘块的地址定义了磁盘上的一段线性地址</p>
<p>把逻辑文件中的数据顺序地存储到物理上邻接的各个数据块中，这样形成的物理文件可以进行顺序存取</p>
<p>文件目录中为每个文件建立一个表项，其中记载文件的第一个数据块地址及文件长度</p>
<p>对于顺序文件，<strong>连续读/写多个数据块内容时，性能较好</strong></p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503165123.png" alt="image-20210503165123005" style="zoom:50%;" /></p>

        <h5 id="开销计算"   >
          <a href="#开销计算" class="heading-link"><i class="fas fa-link"></i></a>开销计算</h5>
      <p>假设磁盘的容量是1MB，每个磁盘块的大小为512个字节<br><strong>磁盘块数量：1MB/512B=2048块</strong><br><strong>编码磁盘块需要位数：2∧10 &lt; 2048 &lt;= 2 ∧11，因此需要11个二进制位</strong><br>如果文件的长度不大于512K<br><strong>长度需要10位来表示：512K/512 = 1024, 2∧10 = 1024</strong><br>因此，每个文件需要在目录中额外占用21个二进制位</p>

        <h5 id="特点"   >
          <a href="#特点" class="heading-link"><i class="fas fa-link"></i></a>特点</h5>
      <p>优点：<br>（1）<strong>顺序访问容易</strong>。<br>能很快检索文件中的一个数据块。<br>例如，如果一个文件的第一个数据块的序号为x，需要检索文件的第y块，则该数据块在外存中的位置为x+y-1。<br>(2) <strong>顺序访问速度快</strong>。<br>磁头移动距离短，效率最高</p>
<p>缺点</p>
<p>(1) <strong>要求有连续的存储空间</strong>。<br>该分配方案可能会导致磁盘碎片，严重降低外存空间的利用率。<br>解决方法之一，系统定期或不定期采用紧凑技术，将小分区合并为大的、连续分区，将文件占用空间合并在一起。<br>(2) <strong>必须事先知道文件的长度。</strong><br><strong>空间利用率不高；</strong><br>不利于文件尺寸的动态增长。</p>

        <h4 id="2-链接组织"   >
          <a href="#2-链接组织" class="heading-link"><i class="fas fa-link"></i></a>2 链接组织</h4>
      <p>链接组织方式有利于文件尺寸的动态增长</p>
<p>链接文件：采用链接分配方式时，可通过在每个盘块上的链接指针，将同属于一个文件的多个离散的盘块链接成一个链表，把这样形成的物理文件称为链接文件</p>

        <h5 id="链接组织方式的优点"   >
          <a href="#链接组织方式的优点" class="heading-link"><i class="fas fa-link"></i></a>链接组织方式的优点</h5>
      <p>消除磁盘外部碎片，提高了利用率</p>
<p>对插入、删除和修改记录都非常容易</p>
<p>能适应文件的动态增长，无需事先知道文件的大小</p>
<p>链接有两种方式 隐式和显式</p>

        <h5 id="2-1-隐式链接"   >
          <a href="#2-1-隐式链接" class="heading-link"><i class="fas fa-link"></i></a>2.1 隐式链接</h5>
      <p>在采用隐式链接组织方式时，在文件目录的每个目录项中，都须含有指向链接文件第一个盘块和最后一个盘块的指针。</p>
<p>每个盘块中都含有一个指向下一个盘块的指针。</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503165552.png" alt="image-20210503165552068" style="zoom:50%;" /></p>

        <h6 id="开销计算-1"   >
          <a href="#开销计算-1" class="heading-link"><i class="fas fa-link"></i></a>开销计算</h6>
      <p>仍然假设磁盘的容量是1MB，每个磁盘块的大小为512字节<br><strong>总磁盘块数量：1MB/512B=2048块</strong><br><strong>编码磁盘块需要位数：2∧10 &lt; 2048 &lt;= 2 ∧11，因此需要11个二进制位</strong><br>文件的长度不再记录，目录中记录的是两个磁盘块号。<br>每个磁盘块需要保存下一个磁盘块的指针，即下一个磁盘块的块号，因此每个磁盘块需要划出11位来保存指针。这样每个块中能够存储的字节只有512-2=510字节。<br>假设文件大小为512KB，则总共需要1029个块：<br><strong>512KB /510B=1028.02</strong><br>因此，总的额外位数：显然远大于连续组织<br><strong>2<em>11+1029 </em> 16 = 16486，约为2060个字节</strong></p>

        <h6 id="特点-1"   >
          <a href="#特点-1" class="heading-link"><i class="fas fa-link"></i></a>特点</h6>
      <p>隐式链接组织方式的主要问题在于：它只适合于顺序访问，它对随机访问是极其低效的。<br><strong>如果要访问文件所在的第i个盘块，则必须先读出文件的第一个盘块……，就这样顺序地查找直至第i块。</strong></p>
<p><strong>为了提高检索速度和减小指针所占用的存储空间，可以将几个盘块组成一个簇(cluster)。</strong><br><strong>比如，一个簇可包含4 个盘块，在进行盘块分配时，是以簇为单位进行的。在链接文件中的每个元素也是以簇为单位的。</strong></p>
<p><strong>减少查找时间和指针所占空间，但增大了内部碎片</strong></p>
<p>这种改进也是非常有限的。</p>

        <h5 id="2-2-显示链接"   >
          <a href="#2-2-显示链接" class="heading-link"><i class="fas fa-link"></i></a>2.2 显示链接</h5>
      <p>这是指把用于链接文件各物理块的指针，显式地存放在内存的一张链接表中。整个磁盘仅设置一张文件分配表（FAT）</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503170407.png" alt="image-20210503170407765" style="zoom:33%;" /></p>
<p>这个例子中是编号2这项，编号2这项中保存对应的磁盘块号，以及下一个磁盘块所在的项号，这里是4号项。4号项里也保存对应的磁盘块号，以及下一个磁盘块的项号，这里是5，以此类推，直到最后一项，它的下一个项中填0，表示没有后继了。</p>
<p>如果FAT比较小，就可以把整个FAT表读到内存中，然后在内存中遍历链表，显然，这样的速度远比遍历链上的每个磁盘块快多了。</p>

        <h6 id="开销计算-2"   >
          <a href="#开销计算-2" class="heading-link"><i class="fas fa-link"></i></a>开销计算</h6>
      <p>仍然假设磁盘的容量是1MB，每个磁盘块的大小为512字节<br>那么FAT需要多大呢？</p>
<p><strong>显然，FAT需要保存所有磁盘块在分配后的链接，因此需要的项数就是所有磁盘块数，即1MB/512B，即2048项。</strong></p>
<p><strong>表示2048项需要11个二进制位，如果取整为两个字节，则需要4096个字节。</strong></p>
<blockquote>
<p>基于下列描述，某文件系统，<strong>根目录常驻内存</strong>。目录文件采用<strong>链接结构</strong>，每个磁盘块放10个下级文件的描述信息，若下级文件的目录文件，则上级目录指向该目录的第一块，否则指向普通文件的文件控制块，每个目录下最多放10个下级文件，普通文件采用顺序结构，文件H共有15个磁盘块。若要读文件/B/E/F/H中的第8块，最少要启动硬盘多少次( )<br>A.5次   <strong>B.6次</strong>    C.18次    D.14次</p>
<p>找到5次, 再访问读出还需要一次</p>
</blockquote>

        <h4 id="3-索引组织"   >
          <a href="#3-索引组织" class="heading-link"><i class="fas fa-link"></i></a>3 索引组织</h4>
      <p>链接组织方式虽然解决了连续组织方式所存在的问题， 但又出现了另外两个问题，即：<br>(1) 不能支持高效的直接存取。要对一个较大的文件进行直接存取，须首先在FAT中顺序地查找许多盘块号。<br>(2) FAT需占用较大的内存空间。由于一个文件所占用盘块的盘块号是随机地分布在FAT中的，因而只有将整个FAT调入内存，才能保证在FAT中找到一个文件的所有盘块号。</p>

        <h5 id="3-1-单级索引组织"   >
          <a href="#3-1-单级索引组织" class="heading-link"><i class="fas fa-link"></i></a>3.1 单级索引组织</h5>
      <p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503174442.png" alt="image-20210503174442834" style="zoom:50%;" /></p>
<p>原理：为每个文件分配一个索引块(表)，再把分配给该文件的所有盘块号都记录在该索引块中，因而该索引块就是一个含有许多盘块号的数组。</p>

        <h6 id="开销分析"   >
          <a href="#开销分析" class="heading-link"><i class="fas fa-link"></i></a>开销分析</h6>
      <p>仍然假设磁盘的容量是1MB，每个磁盘块的大小为512字节<br>每个文件有自己独立的索引，如果文件大小为512K，则需要1024个索引，如果磁盘块号存储在2个字节中，即保存索引需要2048个字节，这2048个字节需要保存在4个磁盘块中，这就是单级索引的额外开销。</p>

        <h6 id="特点-2"   >
          <a href="#特点-2" class="heading-link"><i class="fas fa-link"></i></a>特点</h6>
      <p>优点：</p>
<p>高效直接访问，即随机访问时效率也很高。因为可以直接从索引中找到相应的磁盘块号。</p>
<p>索引组织方式也没有外零头，不存在外部碎片。</p>
<p>缺点</p>
<p>大文件索引项较多，可能使一个数据块容纳不了一个文件的所有分区的索引。</p>
<p>索引块可能要花费较多的外存空间。每当建立一个文件时，便须为之分配一个专门的索引块，将分配给该文件的所有盘块号记录于其中。对于小文件如果采用这种方式，索引块的利用率将是极低的。</p>

        <h5 id="3-2-两级索引"   >
          <a href="#3-2-两级索引" class="heading-link"><i class="fas fa-link"></i></a>3.2 两级索引</h5>
      <p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210702082142.png" alt="image-20210702082142753" style="zoom:67%;" /></p>
<p>为这些索引块再建立一级索引，形成两级索引分配方式</p>

        <h5 id="3-3-增量式索引"   >
          <a href="#3-3-增量式索引" class="heading-link"><i class="fas fa-link"></i></a>3.3 增量式索引</h5>
      <p>全面照顾小、中、大及特大文件的组织需求。<br>同时采用：<br>直接寻址：10个块号<br>一级索引，一次间址：一个索引块<br>二级索引，二次间址<br>三级索引，三次间址</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503175006.png" alt="image-20210503175006496" style="zoom:50%;" /></p>
<p>我们来看增量式索引的示例，左边是文件目录中保存的文件信息，其中block count是文件的存储块数。在后面是13项索引。0到9项索引用于表示直接寻址，每项可以保存一个磁盘块号，这样就可以保存10个磁盘块号。如果文件大小小于10个块，则使用直接寻址就足够了。对小文件来说，通过直接寻址就能快速找到存储的磁盘块，额外的索引块是不需要的。<br>如果文件增大，超过了10个磁盘块，那就需要使用一级索引了。系统分配一个磁盘块作为索引块，然后将该磁盘块的编号写到一次间址项中。一级索引只有一个索引块，如果磁盘块编号需要4个字节来表示，则512个字节的磁盘块可以放128项，即可以指向128个数据存储块。这样启用一级索引号，可以表示128+10个磁盘块，能够表示更大的文件了。<br>如果文件继续增大，则需要启用二级索引了，二级索引的主索引块号保存在二次间址项中。每个索引项指向二级索引块。如果仍然是512字节大小的磁盘块，磁盘块号用4个字节存储，则总共可以表示128乘以128个磁盘块。<br>如果还不够，那就启用三级索引。顶层索引块的磁盘块号保存在三次间址中。大家分析一下，就可知道三次索引可以表示的磁盘块数为单个磁盘块保存项数的三次方。如果是前面的例子，就是128乘以128，在乘以128，即2M个磁盘块。<br>大家可以算一下，增量式索引组织，文件的最大大小是多少。显然，就是直接寻址+一级索引表示块数+二级索引表示块数+三级索引表示块数，得到总表示块数，再乘以单个磁盘块的大小即可以了。</p>
<blockquote>
<p>在文件系统中，要求物理块必须连续的物理文件是( )<br><strong>A.顺序文件</strong>  B.链接文件  C.索引文件  D.Hash文件</p>
<p>在文件系统中，( )的逻辑文件中记录顺序与物理文件中占用物理块顺序一致。<br>A.Hash文件  <strong>B.顺序文件</strong>  C.索引文件   D.链接文件</p>
<p>下列( )物理结构文件不便于文件的扩充。<br><strong>A.顺序文件</strong>   B.链接文件   C.索引文件  D.多级索引文件</p>
<p>下列( )等物理结构文件在文件随机存取时必须按指针进行，存取速度较慢。<br>A.顺序文件  B.链接文件  <strong>C.索引文件</strong>  D.多级索引文件</p>
<p>文件系统为每个文件另建立一张指示逻辑记录和物理块之间的对应关系表；由此表和文件本身构成的文件是( )<br>A.顺序文件  B.链接文件  <strong>C.索引文件</strong>  D.逻辑文件</p>
</blockquote>

        <h3 id="4-2-3-磁盘空闲空间管理"   >
          <a href="#4-2-3-磁盘空闲空间管理" class="heading-link"><i class="fas fa-link"></i></a>4.2.3 磁盘空闲空间管理</h3>
      <p>文件管理要解决的重要问题之一是如何为新创建的文件分配存储空间。</p>
<p><strong>存储空间的基本分配单位是磁盘块。</strong></p>
<p>其分配方法与内存的分配有许多相似之处，即同样可采取连续分配方式或离散分配方式。</p>
<p>系统应为分配存储空间而设置相应的数据结构；其次，系统应提供对存储空间进行分配和回收的手段。</p>
<p>总的来说，文件空闲存储空间的管理方法有三种，即空闲分区表，空闲链表和位示图三种方法</p>

        <h4 id="1-空闲分区法"   >
          <a href="#1-空闲分区法" class="heading-link"><i class="fas fa-link"></i></a>1 空闲分区法</h4>
      <p>空闲表法属于连续分配方式</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503201346.png" alt="image-20210503201346840" style="zoom:50%;" /></p>
<p>适合于可变大小分区的连续分配方式。</p>
<p>为文件分配存储空间时，首先顺序查找空闲分区表中的各个表项，直至找到第一个大小适合的空闲分区。<br>可以采用首次适应分配算法、最佳适应分配算法等。</p>
<p>然后，将该分区分配给文件，同时修改空闲分区表，删除相应表项。</p>
<p>当删除文件释放出空间时，系统回收其存储空间，合并相邻空闲分区</p>
<p>特点: </p>
<p>实现简单。对于最佳适应分配算法，可以将各空闲分区按照（长度）从小到大的顺序进行排列，再利用有效的查找算法，能很快找到需要大小的空闲分区。</p>
<p>但是，当存储空间中的空闲分区分布较分散且数量较多时，空闲分区表将会很大。需要很大的内存空间，会降低空闲分区表的检索速度。</p>

        <h4 id="2-空闲链表法"   >
          <a href="#2-空闲链表法" class="heading-link"><i class="fas fa-link"></i></a>2 空闲链表法</h4>
      <p>空闲链表法是将所有空闲盘区拉成一条空闲链。根据构成链所用基本元素的不同，可把链表分成两种形式：空闲盘块链, 空闲盘区链</p>
<p>空闲盘块链以磁盘块为基本单位</p>
<p>空闲盘区链以空闲盘区为单元，每个空闲盘区可以有多个盘块，设置数百个盘块。</p>
<p>显然，空闲盘区链的长度远小于空闲盘块链。</p>

        <h5 id="2-1-空闲盘块链"   >
          <a href="#2-1-空闲盘块链" class="heading-link"><i class="fas fa-link"></i></a>2.1 空闲盘块链</h5>
      <p>将磁盘上的所有空闲空间，以盘块为单位拉成一条链。</p>
<p>当用户因创建文件而请求分配存储空间时，系统从链首开始，依次摘下适当数目的空闲盘块分配给用户</p>
<p>当用户因删除文件而释放存储空间时，系统将回收的盘块依次插入空闲盘块链的末尾</p>
<p>这种方法的优点：用于分配和回收一个盘块的过程非常简单</p>

        <h5 id="2-2-空闲盘区链"   >
          <a href="#2-2-空闲盘区链" class="heading-link"><i class="fas fa-link"></i></a>2.2 空闲盘区链</h5>
      <p>将磁盘上的所有空闲盘区(每个盘区可包含若干个盘块)拉成一条链。</p>
<p>在每个盘区上含有用于指示下一个空闲盘区的指针和能指明本盘区大小(盘块数)的信息。</p>
<p>分配盘区的方法与内存的动态分区分配类似，通常采用首次适应算法。</p>
<p>在回收盘区时，同样也要将回收区与相邻接的空闲盘区相合并。</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503201725.png" alt="image-20210503201725269" style="zoom:50%;" /></p>
<p>为了提高对空闲盘区的检索速度，可以采用显式链接方法，亦即，在内存中为空闲盘区建立一张链表。</p>
<p>每个分区结点内容：起始盘块号、盘块数、指向下一个空闲盘区的指针。</p>

        <h6 id="空闲盘曲链特点"   >
          <a href="#空闲盘曲链特点" class="heading-link"><i class="fas fa-link"></i></a>空闲盘曲链特点</h6>
      <p>一段时间以后，可能会使空闲分区链表中包含太多小分区，使文件分配到的存储空间过分离散。</p>
<p>删除一个由许多离散小分区组成的文件时，将回收的小分区链接到空闲分区链表中需要很长时间。</p>
<p>若一个文件申请连续存储空间，则需要花费较长的时间查找相邻的空闲分区。</p>
<p>因此，这种空闲空间组织方法适合于非连续存储文件</p>

        <h4 id="3-位示图"   >
          <a href="#3-位示图" class="heading-link"><i class="fas fa-link"></i></a>3 位示图</h4>
      <p>利用二进制位0、1表示存储空间中存储块的使用状态。空闲分区:0，已分配分区:1（或者相反）。</p>
<p>磁盘上的所有盘块都有一个二进制位与之对应，这样，由所有盘块所对应的位构成一个集合，称为位示图。</p>
<p>通常可用m × n 个位数来构成位示图，并使m × n等于磁盘的总块数。</p>
<p>位示图也可描述为一个二维数组map：Var map: array of bit；</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503203038.png" alt="image-20210503203038599" style="zoom:50%;" /></p>

        <h5 id="3-1-盘块的分配"   >
          <a href="#3-1-盘块的分配" class="heading-link"><i class="fas fa-link"></i></a>3.1 盘块的分配</h5>
      <p>根据位示图进行盘块分配时，可分三步进行：</p>
<p>(1) 顺序扫描位示图，从中找出一个或一组其值为“0”的二进制位(“0”表示空闲时)。</p>
<p>(2) 将所找到的一个或一组二进制位转换成与之相应的盘块号。</p>
<p>假定找到的其值为“0”的二进制位位于位示图的第i 行、第j列，则其相应的盘块号应按下式计算：<br>b = n(i- 1) + j</p>
<p>(3) 修改位示图，令map[i,j]=1。</p>

        <h5 id="3-2-盘块的回收"   >
          <a href="#3-2-盘块的回收" class="heading-link"><i class="fas fa-link"></i></a>3.2 盘块的回收</h5>
      <p>盘块的回收分两步：</p>
<p>(1) 将回收盘块的盘块号转换成位示图中的行号和列号。转换公式为：</p>
<p>i = (b - 1)DIV n + 1</p>
<p>j = (b - 1)MOD n + 1</p>
<p>(2) 修改位示图。令map[i,j] =0</p>

        <h5 id="3-3-位示图法的特点"   >
          <a href="#3-3-位示图法的特点" class="heading-link"><i class="fas fa-link"></i></a>3.3 位示图法的特点</h5>
      <p>优点 : </p>
<p><strong>可以容易地找到一个或一组连续的空闲分区。</strong></p>
<p>例如，我们需要找到4个相邻接的空闲盘块，这只需在位示图中找出4个其值连续为“0”的位即可</p>
<p>缺点: </p>
<p>一个位示图需要占用的存储空间大小为： <strong>磁盘容量（字节数）/ （8 * 数据块大小）</strong></p>
<p>对于容量较小的磁盘，位示图占用的空间会很小。</p>
<p>但是，对于一个16GB的磁盘，若数据块大小为512字节，则位示图大小为4MB，大约需要占用8000个磁盘块的存储空间。</p>
<p><strong>很难一次性将该位示图全部装入内存。即使内存足够大，可以存放全部或绝大部分位示图数据，搜索一个很大的位示图将会降低文件系统的性能。</strong></p>
<p><strong>尤其当磁盘空间快用完，剩下的空闲磁盘块很少时，文件系统的性能将严重降低。</strong></p>

        <h4 id="4-成组链接法"   >
          <a href="#4-成组链接法" class="heading-link"><i class="fas fa-link"></i></a>4 成组链接法</h4>
      <p>将磁盘空闲块分成若干组，如将100个盘块作为一组，用索引表表示；</p>
<p>该组空闲块总数和各空闲块块号存入下一组的第一个空闲块中（从后往前分组），各组通过链接指针连在一起形成链表；</p>
<p>最后不满100块的那组空闲块总数和各空闲块块号计入磁盘区专用管理块（超级块）的空闲盘块号栈的s_nfree和s_free[100]中，其数据结构如下页所示</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503204135.png" style="zoom:50%;" /></p>

        <h5 id="4-1-分配和回收"   >
          <a href="#4-1-分配和回收" class="heading-link"><i class="fas fa-link"></i></a>4.1 分配和回收</h5>
      <p>分配</p>
<p>未到栈底：出栈，将栈顶盘块分配给用户</p>
<p>已到栈底盘块：先将栈底盘块出栈，然后将该盘块数据读到内存空闲盘块号栈中，再将栈底盘块分配出去。</p>
<p>回收</p>
<p>栈未满：进栈，依次将回收盘块号压入栈中</p>
<p>栈已满：先将栈内数据写入将回收的磁盘块中，将栈清空，再将将回收盘块号进栈。</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503202254.png" alt="image-20210503202254755" style="zoom: 50%;" /></p>

        <h5 id="4-2-特点"   >
          <a href="#4-2-特点" class="heading-link"><i class="fas fa-link"></i></a>4.2 特点</h5>
      <p>成组链接法仅适用于离散分配形式，无法用于连续分配。</p>
<p>优点：<br>无需占用额外的磁盘空间<br>分配回收速度快<br>大小磁盘均可采用</p>
<p>缺点：<br>不适用于连续分配</p>

        <h3 id="4-2-4-共享与保护"   >
          <a href="#4-2-4-共享与保护" class="heading-link"><i class="fas fa-link"></i></a>4.2.4 共享与保护</h3>
      
        <h4 id="1-文件共享"   >
          <a href="#1-文件共享" class="heading-link"><i class="fas fa-link"></i></a>1 文件共享</h4>
      
        <h5 id="1-1-文件共享的两方面"   >
          <a href="#1-1-文件共享的两方面" class="heading-link"><i class="fas fa-link"></i></a>1.1 文件共享的两方面</h5>
      <p>文件共享主要涉及两个方面 : </p>
<p>同时存取（Simultaneous Access）</p>
<p>允许多个用户同时读文件内容，但不允许同时修改，或同时读且修改文件内容。(读者写者问题)</p>
<p>存取权限（Access Rights）</p>
<p>控制授权用户以合法的方式访问文件，包括：</p>
<ol>
<li>无（None） — 用户不知道文件的存在。用户无法获知该文件的目录信息，当然更不会知道文件的内容。</li>
<li>探知（Knowledge） — 用户可以检测文件的存在和文件的文件主，还可以向文件主申请增加对该文件的存取权限。</li>
<li>执行（Execution） —  用户可以装载并执行程序，但不允许拷贝程序内容。 </li>
<li>读（Reading）— 允许用户读文件内容，包括拷贝和执行文件。某些系统严格地将浏览文件内容和拷贝权限分开，可以控制文件只能被浏览（显示），不能被拷贝。</li>
<li>追加（Appending）— 允许用户向文件添加数据，通常只能将数据添加到文件尾。但是，不能修改或删除文件内容。例如，超市收银员只能将新结帐的数据添加到文件中，不允许其修改或删除已有的数据。</li>
<li>更新（Updating）— 允许用户修改、删除、增加文件内容。包括创建文件、重写文件的全部或部分内容、移动文件的全部或部分数据等操作。</li>
<li><p>更改权限 (Changing protection) — 一般只有文件主才能更改共享该文件的其他用户对该文件的存取权限。有的系统允许文件主将更改文件存取权限赋予其他某个用户，但必须限制授权用户更改的权限范围。</p>
</li>
<li><p>删除 (Deletion) — 允许用户删除文件</p>
</li>
</ol>
<p>以上各级存取权限具有层次结构，后一种权限包含前一种及前面各种存取权限。例如，若赋予用户对文件的更新权限，则该用户同时拥有探知、执行、读、追加权限。<br>文件主通常指创建文件的用户。<br>文件主拥有以上所列的全部权限，<br>并且还可以对下列各类用户赋予存取权限：指定用户、用户组和该系统的所有用户。</p>

        <h5 id="1-2-文件共享的实现"   >
          <a href="#1-2-文件共享的实现" class="heading-link"><i class="fas fa-link"></i></a>1.2 文件共享的实现*</h5>
      <p>实现文件共享的实质就是可以从不同地方打开同一个文件</p>
<p>打开文件的首要步骤就是找到文件的目录项，读取文件在外存的起始地址</p>

        <h6 id="链接目录项实现法"   >
          <a href="#链接目录项实现法" class="heading-link"><i class="fas fa-link"></i></a>链接目录项实现法</h6>
      <p>文件目录项中设置一个链接指针，用于指向共享文件的目录项。</p>
<p>访问文件时，根据链接指针内容找到共享文件的目录项，读取该目录项中文件起始位置等信息，操作该文件。</p>
<p>每当有用户（进程）共享文件时，共享文件目录项中的“共享计数”加1；当用户不再共享该文件，撤消链接指针时，“共享计数”减1。</p>
<p>只有当共享文件用户数为1时，才能删除共享文件。</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503210035.png" alt="image-20210503210035618" style="zoom:50%;" /></p>

        <h6 id="索引节点实现法-（硬链接）"   >
          <a href="#索引节点实现法-（硬链接）" class="heading-link"><i class="fas fa-link"></i></a>索引节点实现法*（硬链接）</h6>
      <p>文件的物理地址及其它的文件属性等信息，<strong>不再是放在目录项中，而是放在索引结点中</strong>。<strong>在文件目录中只设置文件名及指向相应索引结点的指针</strong>。</p>
<p>由任何用户对文件进行Append 操作或修改，所引起的相应结点内容的改变(例如，增加了新的盘块号和文件长度等)，都是其他用户可见的，从而也就能提供给其他用户来共享。</p>
<p>UNIX操作系统的文件目录项中只包含文件名和指向索引节点的指针，文件的物理地址及其它说明信息保存在索引节点中。</p>
<p>可以通过共享文件索引节点来共享文件，即当用户需要共享文件时，在自己的文件目录中新建一个目录项，为共享文件命名(也可用原名)，并将索引节点指针指向共享文件的索引节点。 </p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503210516.png" alt="image-20210503210516251" style="zoom:50%;" /></p>
<p>在索引结点中还应有一个链接计数count，用于表示链接到本索引结点(亦即文件)上的用户目录项的数目。<br>当用户C创建一个新文件时，他便是该文件的所有者，此时将count 置1。<br>当有用户B要共享此文件时，在用户B 的目录中增加一目录项，并设置一指针指向该文件的索引结点，此时，文件主仍然是C，count=2。<br>如果用户C 不再需要此文件，是否能将此文件删除呢？</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503210556.png" alt="image-20210503210556753" style="zoom:50%;" /></p>
<p>这个图是利用索引节点共享文件的示例。这里C先创建文件，文件的拥有者是C，count的值为1。当用户B要共享该文件时，建立自己的目录项，并且将count值加一成为2。但是文件的拥有者仍然是C.<br>现在C删除了自己的目录项，共享文件要删除吗。试想一下，如果删除了，用户B的目录项必然就悬空了，即访问真正的文件。<br>因此，大多数系统中C删除目录项时，并不删除文件，只是将count值减一，而且拥有者仍然是C。直到B删除目录项时才删除该文件。<br>当然，这种方式也存在问题。这里涉及到另一个文件系统的功能，即磁盘配额功能。所谓磁盘配额，就是每个用户可以使用的磁盘容量。现在C已经删除了文件，但是文件的占用磁盘量仍然算在C的头上，似乎不公平。</p>

        <h6 id="符号链实现法-（软链接）"   >
          <a href="#符号链实现法-（软链接）" class="heading-link"><i class="fas fa-link"></i></a>符号链实现法*（软链接）</h6>
      <p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503210110.png" alt="image-20210503210110071" style="zoom:50%;" /></p>
<p>为使B能共享C的一个文件F，可以由系统创建一个LINK类型的新文件，也取名为F并将F写入B的目录中，以实现B的目录与文件F的链接；在新文件中只包含被创文件F的路径名。这样的链接方法被称为符号链接.</p>
<p>新文件中的路径名，则只被看作是符号链。当B要访问被链接的文件F且正要读LINK类新文件时，将被OS截获，  OS根据新文件中的路径名去读该文件，于是就实现了用户B对文件F的共享。</p>
<p>符号链接方式的优点</p>
<ol>
<li><p>可以链接任何机器上的文件，如果你将文件路径名扩展一下，是一个URL，即全球资源链接，那就更加广泛了。</p>
<blockquote>
<p>统一资源定位器URL (Uniform Resource Locator)是Internet上用来链接超文本文件的一种方法。<br>它可以链接同一台计算机中的本地文件，也可链接Internet中任何主机上的远程文件。<br>一个完整的URL包括访问文件的方法（协议）、文件所在的主机域名、目录路径名和文件名几部份。例如， <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://www.uestc.edu.cn/templates/index2k3/index.html" >http://www.uestc.edu.cn/templates/index2k3/index.html</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> </p>
</blockquote>
</li>
<li><p>当被共享文件的拥有者删除被共享文件后，符号链接将悬空，这时系统提示目标文件不存在，共享者就知道共享文件已经删除了。</p>
</li>
<li><p>每个用户都可以用自己喜欢的名字来访问共享文件，不存在相互干扰。</p>
</li>
</ol>
<p>符号链接方式的缺点是：</p>
<p>许多系统在拷贝符号链接文件时，也会转而读取指向的文件。这样，当文件被备份时，就会产生一个新的拷贝。多次备份就会产生更多的拷贝。不过，这个问题似乎可以解决。通常可以通过参数控制是否备份符号链接指向的文件。</p>

        <h4 id="2-文件保护"   >
          <a href="#2-文件保护" class="heading-link"><i class="fas fa-link"></i></a>2 文件保护</h4>
      <p>影响文件安全性的主要因素有：（1）人为因素，人们有意或无意的行为，使文件系统 中的数据遭到破坏或丢失；（2）系统因素，由于系统的某部分出现异常情况，而造成数据 的破坏或丢失；（3）自然因素，随着时间的推移，存放在磁盘上的数据会逐渐消失。</p>
<p>访问权是一个用户（进程）对某个对象执行操作的权利，它可以用一有序对（对象名、权 集）来表示，如（Fl、［RW］）表示用户（进程）对文件F1具有读和写的权利。</p>
<p>保护域，简称“域”，是用户（进程）对一组对象的访问权的集合。</p>
<p>进程和域之间的联系可以是静态的，此时，在整个生命期中，进程只能在一个域中运 行；进程和域之间的联系也可以是动态的，即在进程运行的不同阶段，允许它通过保护域 切换功能，从一个域切换到另一个域。</p>
<p>访问矩阵是用来描述系统的访问控制的一张二维表，其行代表一个保护域，列代表系 统中的一个对象，矩阵中的每一项是由一组访问权组成的，它定义了在行所代表的域中执 行的进程，能对列所代表的对象施加何种操作。</p>
<div class="table-container">
<div class="table-container"><table>
<thead>
<tr>
<th></th>
<th><strong>F1</strong></th>
<th>f2</th>
<th><strong>F3</strong></th>
<th><strong>F4</strong></th>
<th><strong>F5</strong></th>
<th>f6</th>
<th>打印机<strong>1</strong></th>
<th>绘图仪<strong>2</strong></th>
<th>域<strong>Di</strong></th>
<th>域<strong>D2</strong></th>
<th>域<strong>D3</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>域<strong>Di</strong></td>
<td>R</td>
<td>RW</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>s</td>
<td></td>
</tr>
<tr>
<td>域D2</td>
<td></td>
<td></td>
<td>R</td>
<td>RWE</td>
<td>RW</td>
<td></td>
<td>w</td>
<td></td>
<td></td>
<td></td>
<td>s</td>
</tr>
<tr>
<td>域<strong>D3</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>RWE</td>
<td>w</td>
<td>w</td>
<td></td>
<td></td>
</tr>
</tbody>
</table></div>
</div>
<p>注：R——- 读，W——- 写，E——- 执行，S——- 切换。</p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503211437.png" alt="image-20210503211437224"></p>

        <h1 id="总结"   >
          <a href="#总结" class="heading-link"><i class="fas fa-link"></i></a>总结</h1>
      <p>重点：<br>文件和文件系统的概念；文件是具有符号名的信息（数据）项的集合；文件是具有符号名的记录的集合；文件是具有符号名的数据项的集合。<br>文件逻辑结构；顺序文件、索引顺序文件、索引文件、HASH文件；<br>磁盘存储分配方法；连续分配、链接分配、索引分配；<br>文件目录及文件控制块；文件存储器分区和空间管理。<br>磁盘存储管理；位示图、空闲链表、索引。</p>
<p>难点：<br>磁盘存储管理；<br>位示图、空闲链表</p>

        <h1 id="作业"   >
          <a href="#作业" class="heading-link"><i class="fas fa-link"></i></a>作业</h1>
      
        <h2 id="6-文件系统综合"   >
          <a href="#6-文件系统综合" class="heading-link"><i class="fas fa-link"></i></a>6. 文件系统综合</h2>
      <p>存放在某个磁盘上的文件系统，对于采用混合索引分配方式，其FCB中共有13项地址项，第0～9个地址项为直接地址，第10个地址项为一次间接地址，第11个地址项为二次间接地址，第12个地址项为三次间接地址。如果每个盘块的大小为1024字节，盘块号需要4个字节来描述，则每个盘块最多存放250个盘块地址：请回答一下问题：</p>
<p>(1) 该文件系统允许的最大长度是多少？</p>
<p>(2) 将文件的字节偏移量5000、45000、250000转换为物理块号和块内偏移量。</p>
<p>(3) 假设某文件的索引结点已在内存中，但其他信息均在外存，为了访问该文件中某个位置的内容，最多需要几次访问磁盘？ </p>
<p>(4) 如果一个文件的大小为4GB，请问这个文件在磁盘上实际占用空间为多少。</p>

        <h2 id="7-位示图法"   >
          <a href="#7-位示图法" class="heading-link"><i class="fas fa-link"></i></a>7. 位示图法</h2>
      <p>有一个磁盘组共用10个盘面，每个盘面上有100个磁道，每个磁道有16个扇区，假定以扇区为单位，若使用位示图管理磁盘空间，问位示图需要占多少空间？若空闲表的每个空闲表项占用5个字节，问什么时候空闲表大于位示图？</p>
<p>8）描述成组链接法磁盘块分配和回收的过程。</p>
<p>9）描述位示图法磁盘块分配和回收的过程。</p>

        <h1 id="练习题"   >
          <a href="#练习题" class="heading-link"><i class="fas fa-link"></i></a>练习题</h1>
      <p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503211022.png" alt="image-20210503211022322"></p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503211029.png" alt="image-20210503211029062"></p>
<p><img src="https://gitee.com/zjeff-953/picsBed/raw/master/image/20210503211044.png" alt="image-20210503211044703"></p>
</div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ 本文结束，感谢您的阅读 ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">本文作者: </span><span class="copyright-author__value"><a href="http://zjeff-953.gitee.io/zjeff">Jeffords zuo</a></span></div><div class="copyright-link"><span class="copyright-link__name">本文链接: </span><span class="copyright-link__value"><a href="http://zjeff-953.gitee.io/zjeff/2021/10/12/%E7%B3%BB%E7%BB%9F%E6%8A%80%E6%9C%AF/OS%20-%2004%20%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/">http://zjeff-953.gitee.io/zjeff/2021/10/12/%E7%B3%BB%E7%BB%9F%E6%8A%80%E6%9C%AF/OS%20-%2004%20%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">版权声明: </span><span class="copyright-notice__value">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> 许可协议。转载请注明出处！</span></div></div><div class="post-tags"><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="http://zjeff-953.gitee.io/zjeff/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></span></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/2021/10/12/%E7%B3%BB%E7%BB%9F%E6%8A%80%E6%9C%AF/OS%20-%2005%20%E8%AE%BE%E5%A4%87%E7%AE%A1%E7%90%86/"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">OS - 05 设备管理</span></a></div><div class="paginator-next"><a class="paginator-next__link" href="/2021/10/12/%E7%B3%BB%E7%BB%9F%E6%8A%80%E6%9C%AF/OS%20-%2003%20%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/"><span class="paginator-prev__text">OS - 03 内存管理</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">文章目录</span><span class="sidebar-nav-ov">站点概览</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#OS-04-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86"><span class="toc-text">
          OS - 04 文件管理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-%E6%96%87%E4%BB%B6%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5%E5%92%8C%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AE%A4%E8%AF%86"><span class="toc-text">
          4.1 文件相关概念和文件系统的基本认识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-1-%E6%96%87%E4%BB%B6-%E6%96%87%E4%BB%B6%E7%9A%84%E5%B1%9E%E6%80%A7-%E6%96%87%E4%BB%B6%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-text">
          4.1.1 文件, 文件的属性, 文件的类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BB%80%E4%B9%88%E6%98%AF%E6%96%87%E4%BB%B6"><span class="toc-text">
          1 什么是文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%96%87%E4%BB%B6%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-text">
          2 文件的属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%96%87%E4%BB%B6%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-text">
          3 文件的分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">
          4 文件的使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-2-%E6%96%87%E4%BB%B6%E7%9A%84%E7%BB%93%E6%9E%84"><span class="toc-text">
          4.1.2 文件的结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%96%87%E4%BB%B6%E7%9A%84%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84"><span class="toc-text">
          1 文件的逻辑结构</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-%E6%9C%89%E7%BB%93%E6%9E%84%E6%96%87%E4%BB%B6%EF%BC%88%E8%AE%B0%E5%BD%95%E5%BC%8F%E6%96%87%E4%BB%B6%EF%BC%89"><span class="toc-text">
          1.1 有结构文件（记录式文件）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-%E6%97%A0%E7%BB%93%E6%9E%84%E6%96%87%E4%BB%B6%EF%BC%88%E6%B5%81%E5%BC%8F%E6%96%87%E4%BB%B6%EF%BC%89"><span class="toc-text">
          1.2 无结构文件（流式文件）</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%96%87%E4%BB%B6%E7%9A%84%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84"><span class="toc-text">
          2 文件的物理结构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-3-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%A6%82%E5%BF%B5-%E5%8A%9F%E8%83%BD%E5%92%8C%E6%A8%A1%E5%9E%8B"><span class="toc-text">
          4.1.3 文件系统的概念, 功能和模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-text">
          1 文件系统的概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-text">
          2 文件系统的功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%A8%A1%E5%9E%8B"><span class="toc-text">
          3 文件系统的模型**</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1-%E5%AF%B9%E8%B1%A1%E5%8F%8A%E5%85%B6%E5%B1%9E%E6%80%A7"><span class="toc-text">
          3.1 对象及其属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-%E5%AF%B9%E8%B1%A1%E6%93%8D%E7%BA%B5%E5%92%8C%E7%AE%A1%E7%90%86%E7%9A%84%E8%BD%AF%E4%BB%B6%E9%9B%86%E5%90%88-%E2%80%94-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%A0%B8%E5%BF%83%E9%83%A8%E5%88%86"><span class="toc-text">
          3.2 对象操纵和管理的软件集合 — 文件管理系统的核心部分</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%8E%A5%E5%8F%A3"><span class="toc-text">
          3.3 文件系统的接口</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0"><span class="toc-text">
          4.2 文件系统的具体实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-1-%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86"><span class="toc-text">
          4.2.1 目录管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">
          1 文件系统的数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-%E6%96%87%E4%BB%B6%E6%8E%A7%E5%88%B6%E5%9D%97-FCB-%E5%92%8C-%E7%9B%AE%E5%BD%95"><span class="toc-text">
          1.1 文件控制块 FCB 和 目录</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-%E7%B4%A2%E5%BC%95%E8%8A%82%E7%82%B9"><span class="toc-text">
          1.2 索引节点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-3-%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-text">
          1.3 目录结构</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%9B%AE%E5%BD%95%E6%93%8D%E4%BD%9C"><span class="toc-text">
          2 目录操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-1-%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95"><span class="toc-text">
          2.1 创建目录</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-%E5%88%A0%E9%99%A4%E7%9B%AE%E5%BD%95"><span class="toc-text">
          2.2 删除目录</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-3-%E6%94%B9%E5%8F%98%E7%9B%AE%E5%BD%95"><span class="toc-text">
          2.3 改变目录</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-4-%E7%A7%BB%E5%8A%A8%E7%9B%AE%E5%BD%95"><span class="toc-text">
          2.4 移动目录</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-5-%E9%93%BE%E6%8E%A5%E6%93%8D%E4%BD%9C"><span class="toc-text">
          2.5 链接操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-6-%E6%9F%A5%E6%89%BE"><span class="toc-text">
          2.6 **查找</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-2-%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8%E4%BD%8D%E7%BD%AE%E7%AE%A1%E7%90%86-%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86"><span class="toc-text">
          4.2.2 文件存储位置管理&#x2F;磁盘管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-text">
          磁盘管理中遇到的问题:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%BF%9E%E7%BB%AD%E7%BB%84%E7%BB%87"><span class="toc-text">
          1 连续组织</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BC%80%E9%94%80%E8%AE%A1%E7%AE%97"><span class="toc-text">
          开销计算</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-text">
          特点</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E9%93%BE%E6%8E%A5%E7%BB%84%E7%BB%87"><span class="toc-text">
          2 链接组织</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%93%BE%E6%8E%A5%E7%BB%84%E7%BB%87%E6%96%B9%E5%BC%8F%E7%9A%84%E4%BC%98%E7%82%B9"><span class="toc-text">
          链接组织方式的优点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-1-%E9%9A%90%E5%BC%8F%E9%93%BE%E6%8E%A5"><span class="toc-text">
          2.1 隐式链接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-%E6%98%BE%E7%A4%BA%E9%93%BE%E6%8E%A5"><span class="toc-text">
          2.2 显示链接</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E7%B4%A2%E5%BC%95%E7%BB%84%E7%BB%87"><span class="toc-text">
          3 索引组织</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1-%E5%8D%95%E7%BA%A7%E7%B4%A2%E5%BC%95%E7%BB%84%E7%BB%87"><span class="toc-text">
          3.1 单级索引组织</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-%E4%B8%A4%E7%BA%A7%E7%B4%A2%E5%BC%95"><span class="toc-text">
          3.2 两级索引</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-%E5%A2%9E%E9%87%8F%E5%BC%8F%E7%B4%A2%E5%BC%95"><span class="toc-text">
          3.3 增量式索引</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-3-%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B2%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86"><span class="toc-text">
          4.2.3 磁盘空闲空间管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E7%A9%BA%E9%97%B2%E5%88%86%E5%8C%BA%E6%B3%95"><span class="toc-text">
          1 空闲分区法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%A9%BA%E9%97%B2%E9%93%BE%E8%A1%A8%E6%B3%95"><span class="toc-text">
          2 空闲链表法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-1-%E7%A9%BA%E9%97%B2%E7%9B%98%E5%9D%97%E9%93%BE"><span class="toc-text">
          2.1 空闲盘块链</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-%E7%A9%BA%E9%97%B2%E7%9B%98%E5%8C%BA%E9%93%BE"><span class="toc-text">
          2.2 空闲盘区链</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E4%BD%8D%E7%A4%BA%E5%9B%BE"><span class="toc-text">
          3 位示图</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1-%E7%9B%98%E5%9D%97%E7%9A%84%E5%88%86%E9%85%8D"><span class="toc-text">
          3.1 盘块的分配</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-%E7%9B%98%E5%9D%97%E7%9A%84%E5%9B%9E%E6%94%B6"><span class="toc-text">
          3.2 盘块的回收</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-%E4%BD%8D%E7%A4%BA%E5%9B%BE%E6%B3%95%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">
          3.3 位示图法的特点</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E6%88%90%E7%BB%84%E9%93%BE%E6%8E%A5%E6%B3%95"><span class="toc-text">
          4 成组链接法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#4-1-%E5%88%86%E9%85%8D%E5%92%8C%E5%9B%9E%E6%94%B6"><span class="toc-text">
          4.1 分配和回收</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-2-%E7%89%B9%E7%82%B9"><span class="toc-text">
          4.2 特点</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-4-%E5%85%B1%E4%BA%AB%E4%B8%8E%E4%BF%9D%E6%8A%A4"><span class="toc-text">
          4.2.4 共享与保护</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB"><span class="toc-text">
          1 文件共享</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB%E7%9A%84%E4%B8%A4%E6%96%B9%E9%9D%A2"><span class="toc-text">
          1.1 文件共享的两方面</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-text">
          1.2 文件共享的实现*</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%96%87%E4%BB%B6%E4%BF%9D%E6%8A%A4"><span class="toc-text">
          2 文件保护</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">
          总结</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A"><span class="toc-text">
          作业</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%BB%BC%E5%90%88"><span class="toc-text">
          6. 文件系统综合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E4%BD%8D%E7%A4%BA%E5%9B%BE%E6%B3%95"><span class="toc-text">
          7. 位示图法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98"><span class="toc-text">
          练习题</span></a></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="https://gitee.com/zjeff-953/picsBed/raw/master/image/cat.jpg" alt="avatar"></div><p class="sidebar-ov-author__text">Keep Curious</p></div><div class="sidebar-ov-social"><a class="sidebar-ov-social-item" href="https://github.com/github" target="_blank" rel="noopener" data-popover="Github" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-github"></i></span></a><a class="sidebar-ov-social-item" href="https://www.zhihu.com/" target="_blank" rel="noopener" data-popover="知乎" data-popover-pos="up"><span class="sidebar-ov-social-item__icon">知</span></a><a class="sidebar-ov-social-item" href="1572754810" target="_blank" rel="noopener" data-popover="QQ" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-qq"></i></span></a><a class="sidebar-ov-social-item" href="https://gitee.com/zjeff-953" target="_blank" rel="noopener" data-popover="码云" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-git"></i></span></a></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">195</div><div class="sidebar-ov-state-item__name">归档</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">34</div><div class="sidebar-ov-state-item__name">分类</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">50</div><div class="sidebar-ov-state-item__name">标签</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="知识共享许可协议" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">你已阅读了 </span><span class="sidebar-reading-info__num">0</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2021</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>Jeffords zuo</span></div><div><span>由 <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> 强力驱动</span><span> v5.4.0</span><span class="footer__devider">|</span><span>主题 - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.1.1</span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="/js/utils.js?v=2.1.1"></script><script src="/js/stun-boot.js?v=2.1.1"></script><script src="/js/scroll.js?v=2.1.1"></script><script src="/js/header.js?v=2.1.1"></script><script src="/js/sidebar.js?v=2.1.1"></script></body></html>